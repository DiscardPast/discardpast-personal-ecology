<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>PMT 支付系统接口自动化测试报告</title>
    <meta name="generator" content="HTMLTestRunner 0.8.2"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
<style type="text/css" media="screen">
body        { font-family: verdana, arial, helvetica, sans-serif; font-size: 80%; }
table       { font-size: 100%; }
pre         { }

/* -- heading ---------------------------------------------------------------------- */
h1 {
	font-size: 16pt;
	color: gray;
}
.heading {
    margin-top: 0ex;
    margin-bottom: 1ex;
}

.heading .attribute {
    margin-top: 1ex;
    margin-bottom: 0;
}

.heading .description {
    margin-top: 4ex;
    margin-bottom: 6ex;
}

/* -- css div popup ------------------------------------------------------------------------ */
a.popup_link {
}

a.popup_link:hover {
    color: red;
}

.popup_window {
    display: none;
    position: relative;
    left: 0px;
    top: 0px;
    /*border: solid #627173 1px; */
    padding: 10px;
    background-color: #E6E6D6;
    font-family: "Lucida Console", "Courier New", Courier, monospace;
    text-align: left;
    font-size: 8pt;
    width: 500px;
}

}
/* -- report ------------------------------------------------------------------------ */
#show_detail_line {
    margin-top: 3ex;
    margin-bottom: 1ex;
}
#result_table {
    width: 80%;
    border-collapse: collapse;
    border: 1px solid #777;
}
#header_row {
    font-weight: bold;
    color: white;
    background-color: #777;
}
#result_table td {
    border: 1px solid #777;
    padding: 2px;
}
#total_row  { font-weight: bold; }
.passClass  { background-color: #6c6; }
.failClass  { background-color: #c60; }
.errorClass { background-color: #c00; }
.passCase   { color: #6c6; }
.failCase   { color: #c60; font-weight: bold; }
.errorCase  { color: #c00; font-weight: bold; }
.hiddenRow  { display: none; }
.testcase   { margin-left: 2em; }


/* -- ending ---------------------------------------------------------------------- */
#ending {
}

</style>

</head>
<body>
<script language="javascript" type="text/javascript"><!--
output_list = Array();

/* level - 0:Summary; 1:Failed; 2:All */
function showCase(level) {
    trs = document.getElementsByTagName("tr");
    for (var i = 0; i < trs.length; i++) {
        tr = trs[i];
        id = tr.id;
        if (id.substr(0,2) == 'ft') {
            if (level < 1) {
                tr.className = 'hiddenRow';
            }
            else {
                tr.className = '';
            }
        }
        if (id.substr(0,2) == 'pt') {
            if (level > 1) {
                tr.className = '';
            }
            else {
                tr.className = 'hiddenRow';
            }
        }
    }
}


function showClassDetail(cid, count) {
    var id_list = Array(count);
    var toHide = 1;
    for (var i = 0; i < count; i++) {
        tid0 = 't' + cid.substr(1) + '.' + (i+1);
        tid = 'f' + tid0;
        tr = document.getElementById(tid);
        if (!tr) {
            tid = 'p' + tid0;
            tr = document.getElementById(tid);
        }
        id_list[i] = tid;
        if (tr.className) {
            toHide = 0;
        }
    }
    for (var i = 0; i < count; i++) {
        tid = id_list[i];
        if (toHide) {
            document.getElementById('div_'+tid).style.display = 'none'
            document.getElementById(tid).className = 'hiddenRow';
        }
        else {
            document.getElementById(tid).className = '';
        }
    }
}


function showTestDetail(div_id){
    var details_div = document.getElementById(div_id)
    var displayState = details_div.style.display
    // alert(displayState)
    if (displayState != 'block' ) {
        displayState = 'block'
        details_div.style.display = 'block'
    }
    else {
        details_div.style.display = 'none'
    }
}


function html_escape(s) {
    s = s.replace(/&/g,'&amp;');
    s = s.replace(/</g,'&lt;');
    s = s.replace(/>/g,'&gt;');
    return s;
}

/* obsoleted by detail in <div>
function showOutput(id, name) {
    var w = window.open("", //url
                    name,
                    "resizable,scrollbars,status,width=800,height=450");
    d = w.document;
    d.write("<pre>");
    d.write(html_escape(output_list[id]));
    d.write("\n");
    d.write("<a href='javascript:window.close()'>close</a>\n");
    d.write("</pre>\n");
    d.close();
}
*/
--></script>

<div class='heading'>
<h1>PMT 支付系统接口自动化测试报告</h1>
<p class='attribute'><strong>Start Time:</strong> 2019-11-15 18:34:55</p>
<p class='attribute'><strong>Duration:</strong> 0:03:20.433030</p>
<p class='attribute'><strong>Pass Rate:</strong> 100.0 %</p>
<p class='attribute'><strong>Statistics:</strong> Total - 4 ;  Pass - 4 ; </p>

<p class='description'></p>
</div>



<p id='show_detail_line'>Show
<a href='javascript:showCase(0)'>Summary</a>
<a href='javascript:showCase(1)'>Failed</a>
<a href='javascript:showCase(2)'>All</a>
</p>
<table id='result_table'>
<colgroup>
<col align='left' />
<col align='right' />
<col align='right' />
<col align='right' />
<col align='right' />
<col align='right' />
</colgroup>
<tr id='header_row'>
    <td>Test Group/Test case</td>
    <td>Count</td>
    <td>Pass</td>
    <td>Fail</td>
    <td>Error</td>
    <td>View</td>
</tr>

<tr class='passClass'>
    <td>projects.pmt.test.payment.rebate.rebate_payment_approval.RebatePaymentApprovalCheck</td>
    <td>4</td>
    <td>4</td>
    <td>0</td>
    <td>0</td>
    <td><a href="javascript:showClassDetail('c1',4)">Detail</a></td>
</tr>

<tr id='pt1.1' class='hiddenRow'>
    <td class='none'><div class='testcase'>test_pay_order_approval_1: 返点体现支付申请单的审批流，收款方名称与返点流水客户名称一致        <br> 校验        <br> 1. 申请单状态为 审批通过        <br> 2. 申请单的支付状态为 未支付        <br> 3. 通用信息校验，申请金额</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.1')" >
        pass</a>

    <div id='div_pt1.1' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_pt1.1').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
pt1.1: 
  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
 准备一个 审批通过的  返点开票。。。。

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
增加一笔返点在当前返点开票上。。。。


--------------------------------------------------------------------------
-----准备造数据 ：盖章，回收当前 的返点 -------
------------------------------------------------------------------------------


--------------------------------------------------------------------------
-----准备造数据 ：消管生成一个  已结算的返点 -------
------------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'channelsalesmanage_B' 信息如下 -----------------
ID: 100336; Name: 渠道销管B; Boss_ID: 100334; Boss_name: 渠道销管leader; Area: u'渠道一部'
  @@@@@@@@@@@@@@@@@@@@@@   
 
【MOCK-UP】生成返点新建所需要的 payload 信息。。。
              [INFO]没有提供具体的代理商/客户ID， 那么接下来随机db里面找一个可用代理商
      【INFO】随机找到一个审批通过的客户，ID为
              [INFO]agent_id ： 44971517
              [INFO]使用传入的返点金额 ： 28682.5
              [INFO]随机生成的返点类型是types：三返
              [INFO]使用传入的返点使用类型
              [INFO]有3种返点使用方式，分别为：1,2,3 - 现金,返点抵扣,充值到AD
              [INFO]返点结算年为：2025
              [INFO]返点结算月份/季度为：2月
    [INFO]DB里面，用sales id = '100322', 随机找到一个审批通过之后状态的 合同 。。。
    [INFO]DB 拿到的contract_serial ： BJKJ2019102105272
    [INFO]随机生成的 日期： 2019-11-15
 ----------------------------------
 ------打印 返点新建详情----------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
               channel_salesman_id  :  100322 
             supplement_con_serial  :  CON10000000 
                         use_types  :  1,2,3 
                         sales_ids  :  100322 
                     month_quarter  :  2 
                         area_type  :  9 
                            amount  :  28682.5 
                          agent_id  :  44971517 
                   contract_serial  :  BJKJ2019102105272 
                              year  :  2025 
                      leading_area  :  1 
                          standard  :  1 
                              type  :  3 
               submit_approve_date  :  2019-11-15 
----------------------------------------------------


 ---------保存审批-------------------------
 【INFo】如果不需要 代理商审批，直接提交！

【@KEY STEP@】--- 通过API 保存/新建,提交审批一条返点结算
              [INFO]提交审批
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100336', 'login_employee_id': '100336'}
  Method : POST
  Payload : '{"channel_salesman_id": "100322", "supplement_con_serial": "CON10000000", "use_types": "1,2,3", "sales_ids": "100322", "month_quarter": 2, "area_type": 9, "amount": 28682.5, "submit_approval": true, "agent_id": 44971517, "contract_serial": "BJKJ2019102105272", "year": 2025, "leading_area": 1, "standard": 1, "type": 3, "submit_approve_date": "2019-11-15"}'
-----------------------------------------------
【性能】请求花费时间 3.177508 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '保存成功', 'code': 1, 'data': {'rebate_balance_id': 133128720, 'rebate_balance_serial': 'FD133128720'}}
------------------------------------------------------------------------
[INFO]DB里面，通过serial -BJKJ2019102105272，获取id 。。。
[INFO]DB 拿到的 contract id ： 6750234582420816653
-------------已提交审批，rebate_balance_id 为 133128720

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  2 - 审批中待结算  
                       StampStatus  :  1 - 未盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  BJKJ2019102105272 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  1 - 未回收  
                            Amount  :  2868.0 
                            Serial  :  FD133128720 
                           AgentID  :  44971517 
                                ID  :  133128720 
                             Types  :  3 - 三返  
----------------------------------------------------

 ------------------------------------------------------------

----------审批中，走审批流---------------------------


-------------------------------
【INFO】返点审批流 财务核算
-------------------------------
approval_list审批流为['finance_account_A']
审批人：finance_account_A
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_account_A' 信息如下 -----------------
ID: 100364; Name: finance-A; Boss_ID: None; Boss_name: None; Area: u'核算组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 获取下一个 待审批人列表

【@KEY STEP@】--- 通过API 审批通过 结算单/或返点， entity_id=133128720， entity_type : 8 - rebate
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/log_list
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 133128720, 'entity_type': 8}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.070812 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': {'total': 1, 'list': [{'comment': '', 'entity_id': None, 'result': 5, 'approver_id': '1806,100356,100363,100364,100365,100366,1102771,1128722,1168921,1271797,1285632,1393610,1553567,1602508,2057512,2369107,2720176,2923026,3289606,3299115,3703672,3725361,3815870,3902625,5060758,5081990,5153893,5207100,5616263,5817132,6003520,6357583,7103308,7199767,7206065,7535702,7780057,7883021,7922808,7995555,8002517,8793781,8976986,9055612,9878229,9903339', 'approver_name': '杨丹,财务BP-B,财务核算leader,finance-A,财务核算-B,财务核算-C,仇衍铭,黄玲,张文博,廖亮,李明华,张一凡,李硕德,顾见颀,章利,田金杰,兰雁,李瑶,郑小冰,刘玉娟,王安龙,李雪,陈智,刘雷,马晓策,陈子健,安慧芳,张剑,李晶晶,周黎,杜现芳,夏春阳,吴得瑀,吴昊,于宾,孙娇娇,贾珊,石红霞,孙伟,周立文,郭继春,董学军,郑珊,王德宸,高玉婷,李静静', 'informed_names': None, 'create_time': '', 'approval_department': '财务', 'result_name': '待审批', 'file_names': None, 'approval_record_id': 1}]}}
------------------------------------------------------------------------

【@KEY STEP@】--- 通过API 审批通过 返点， rebate_balance_id=133128720

【@KEY STEP@】--- 通过API 获取一个返点， id=133128720
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/detail
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'rebate_balance_id': 133128720}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.062633 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '获取详情成功', 'code': 1, 'data': {'display_template_area': 1, 'agent_name': '今日头条-品牌广告PM-测试账号-2', 'area_type_name': '分公司-福建', 'use_amount': '0.00', 'use_status_name': '未使用', 'archive_locker_no': '', 'rebate_balance_id': 133128720, 'agent_type_name': '', 'archive_status_name': '未回收', 'leading_area_name': '华北', 'rebate_balance_serial': 'FD133128720', 'use_status': 1, 'stamp_status': 1, 'create_time': '2019-11-15 18:34:55', 'year': 2025, 'remain_amount': '0.00', 'archive_box_no': '', 'archive_num': 0, 'archive_time': '', 'channel_salesman_name': 'channel client sales_A', 'contract_subject_name': '北京空间变换科技有限公司', 'type_name': '三返', 'sales_names': 'channel client sales_A', 'area_type': 9, 'month_quarter_name': '2月', 'contract_subject_id': 42, 'agent_type': 21, 'stamp_status_name': '未盖章', 'approval_time': '2019-11-15', 'agent_category_name': '优代', 'type': 3, 'agent_approval_name': None, 'category': 2, 'agent_approval_time': None, 'channel_salesman_id': 100322, 'operate_time': None, 'stamp_type_name': '线下盖章', 'supplement_con_serial': 'CON10000000', 'stamp_stap_id': None, 'archive_status': 1, 'sales_ids': [100322], 'submit_approve_date': '2019-11-15', 'remark': '', 'month_quarter': 2, 'standard': '1', 'process_id': 47860249, 'agent_id': 44971517, 'step_id': None, 'leading_area': 1, 'category_name': '代理商', 'status': 2, 'rebate_id': 0, 'use_types': [1, 2, 3], 'task_id': 47861234, 'status_name': '审批中', 'agent_category': 3, 'standard_name': '标准', 'amount': '28682.50', 'frozen_amount': '0.00', 'contract_serial': 'BJKJ2019102105272', 'standard_serial': '', 'stamp_type': 2, 'use_type_names': ['现金', '返点抵扣', '充值到AD']}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Method : POST
  Payload : '{"entity_id": "133128720", "process_id": 47860249, "task_id": 47861234}'
-----------------------------------------------
【性能】请求花费时间 0.839039 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  3 - 已结算  
                       StampStatus  :  1 - 未盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  BJKJ2019102105272 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  1 - 未回收  
                            Amount  :  2868.0 
                            Serial  :  FD133128720 
                           AgentID  :  44971517 
                                ID  :  133128720 
                             Types  :  3 - 三返  
----------------------------------------------------

 ------------------------------------------------------------
-----数据准备完毕------------------------------------------------




  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 盖章申请 一条返点, id ： 133128720
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/stamp_request
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128720, "party_a_num": 2, "stamp_order": 1, "party_b_num": 2}'
-----------------------------------------------
【性能】请求花费时间 0.103889 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '非常抱歉，系统发生内部错误，错误已被登记，错误ID号为: 1573814104，更多问题请联系管理员解决。', 'code': -1}
------------------------------------------------------------------------
[RETRY]sleep一下,重试一次

【@KEY STEP@】--- 通过API 盖章申请 一条返点, id ： 133128720
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/stamp_request
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128720, "party_a_num": 3, "stamp_order": 1, "party_b_num": 2}'
-----------------------------------------------
【性能】请求花费时间 1.757635 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '申请成功', 'code': 1}
------------------------------------------------------------------------
[审批流]获取 结算单盖章审批流...
[INFO]当前期望审批人列表为... 
      --&gt;  100357-合同专员-contractops
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'contractops' 信息如下 -----------------
ID: 100357; Name: 合同专员; Boss_ID: None; Boss_name: None; Area: u'财务合同组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 盖章通过 返点， rebate_balance_id=133128720

【@KEY STEP@】--- 通过API 获取一个返点， id=133128720
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/detail
  Cookies : {'fake_employee_id': '100357', 'login_employee_id': '100357'}
  Parameters : {'rebate_balance_id': 133128720}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.061186 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '获取详情成功', 'code': 1, 'data': {'display_template_area': 1, 'agent_name': '今日头条-品牌广告PM-测试账号-2', 'area_type_name': '分公司-福建', 'use_amount': '0.00', 'use_status_name': '未使用', 'archive_locker_no': '', 'rebate_balance_id': 133128720, 'agent_type_name': '', 'archive_status_name': '未回收', 'leading_area_name': '华北', 'rebate_balance_serial': 'FD133128720', 'use_status': 1, 'stamp_status': 2, 'create_time': '2019-11-15 18:34:55', 'year': 2025, 'remain_amount': '0.00', 'archive_box_no': '', 'archive_num': 0, 'archive_time': '', 'channel_salesman_name': 'channel client sales_A', 'contract_subject_name': '北京空间变换科技有限公司', 'type_name': '三返', 'sales_names': 'channel client sales_A', 'area_type': 9, 'month_quarter_name': '2月', 'contract_subject_id': 42, 'agent_type': 21, 'stamp_status_name': '审批中', 'approval_time': '2019-11-15', 'agent_category_name': '优代', 'type': 3, 'agent_approval_name': None, 'category': 2, 'agent_approval_time': None, 'channel_salesman_id': 100322, 'operate_time': None, 'stamp_type_name': '线下盖章', 'supplement_con_serial': 'CON10000000', 'stamp_stap_id': None, 'archive_status': 1, 'sales_ids': [100322], 'submit_approve_date': '2019-11-15', 'remark': '', 'month_quarter': 2, 'standard': '1', 'process_id': 47866314, 'agent_id': 44971517, 'step_id': None, 'leading_area': 1, 'category_name': '代理商', 'status': 3, 'rebate_id': 0, 'use_types': [1, 2, 3], 'task_id': 47866663, 'status_name': '审批通过', 'agent_category': 3, 'standard_name': '标准', 'amount': '28682.50', 'frozen_amount': '0.00', 'contract_serial': 'BJKJ2019102105272', 'standard_serial': '', 'stamp_type': 2, 'use_type_names': ['现金', '返点抵扣', '充值到AD']}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100357', 'login_employee_id': '100357'}
  Method : POST
  Payload : '{"entity_id": "133128720", "process_id": 47866314, "task_id": 47866663}'
-----------------------------------------------
【性能】请求花费时间 0.800882 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 回收 一条返点结算，id：133128720
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/retrieve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128720}'
-----------------------------------------------
【性能】请求花费时间 0.042673 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '回收成功', 'code': 1}
------------------------------------------------------------------------

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  3 - 已结算  
                       StampStatus  :  3 - 已盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  BJKJ2019102105272 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  2 - 已回收  
                            Amount  :  2868.0 
                            Serial  :  FD133128720 
                           AgentID  :  44971517 
                                ID  :  133128720 
                             Types  :  3 - 三返  
----------------------------------------------------

 ------------------------------------------------------------
-----数据准备完毕------------------------------------------------




  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 创建一个 返点 开票 对象，contract_id :'6750234582420816653'  。。。
当前开票platform  3-返点开票

【@KEY STEP@】---- 创建一个 开票 对象''  。。。
  用当前传入的contract_id 覆盖 6750234582420816653
---打印当前 创建payload ----
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                          platform  :  0 
                       contract_id  :  6750234582420816653 
                    invoice_object  :  3 
----------------------------------------------------

None
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/create
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"platform": 0, "contract_id": 6750234582420816653, "invoice_object": 3}'
-----------------------------------------------
【性能】请求花费时间 0.124358 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128108}
------------------------------------------------------------------------

【@KEY STEP@】---- 给当前发票id = '133128108' 增加返点 rebate_id=133128720  。。。

【@KEY STEP@】---- 给当前发票id = '133128108' 绑定实体  。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/bind
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128108, "bind_records": "[{\"amount\": 28682.5, \"id\": 133128720}]"}'
-----------------------------------------------
【性能】请求花费时间 0.078989 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128108}
------------------------------------------------------------------------
【MOCK-UP】生成 更新 通用 - 开票 所需要的 payload 信息。。。
              [INFO]随机生成的名称： Auto-名字1573814108
              [INFO]随机生成的名称： Auto-名字1573814108
              [INFO]随机生成的名称： Auto-名字1573814108
              [INFO]随机生成的名称： Auto-名字1573814108
              [INFO]使用随机生成的email ：  auto.mail.6571046@bytedance.com
    [INFO]DB 随机找到的签约主体是  ： 35 - 北京字跳网络技术有限公司 
----------------------------------------------------
【Print】printing mocked data in lines。。。
                          tax_no  :  13401447651 
             contract_subject_id  :  35 
                  customer_email  :  auto.mail.6571046@bytedance.com 
           customer_subject_name  :  开票公司名-Auto-名字15738141086六要素 
              unprintable_remark  :  auto_非打印备注-20706796413685 
                    invoice_type  :  1 
                          remark  :  auto_remark-29034736434391 
                  customer_phone  :  13406293051 
             customer_sms_phones  :  ['13405440879'] 
                  region_last_id  :  3 
                customer_address  :  Auto-名字1573814108地址-6六要素 
                 contact_address  :  Auto-名字1573814108地址-接收信息 
                         contact  :  渠道销售A 
                            bank  :  Auto-名字1573814108银行-6六要素 
                   contact_phone  :  13402886237 
                      region_ids  :  [1, 2, 3] 
                    bank_account  :  47857286724481 
----------------------------------------------------


【@KEY STEP@】---- 保存 更新六要素 实体 id：133128108 。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"tax_no": "13401447651", "contract_subject_id": 35, "customer_email": "auto.mail.6571046@bytedance.com", "customer_subject_name": "\u5f00\u7968\u516c\u53f8\u540d-Auto-\u540d\u5b5715738141086\u516d\u8981\u7d20", "unprintable_remark": "auto_\u975e\u6253\u5370\u5907\u6ce8-20706796413685", "invoice_type": 1, "remark": "auto_remark-29034736434391", "customer_phone": "13406293051", "customer_sms_phones": ["13405440879"], "region_last_id": 3, "customer_address": "Auto-\u540d\u5b571573814108\u5730\u5740-6\u516d\u8981\u7d20", "contact_address": "Auto-\u540d\u5b571573814108\u5730\u5740-\u63a5\u6536\u4fe1\u606f", "contact": "\u6e20\u9053\u9500\u552eA", "bank": "Auto-\u540d\u5b571573814108\u94f6\u884c-6\u516d\u8981\u7d20", "invoice_id": 133128108, "contact_phone": "13402886237", "region_ids": [1, 2, 3], "bank_account": 47857286724481}'
-----------------------------------------------
【性能】请求花费时间 0.06508 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128108}
------------------------------------------------------------------------
[KEY info] 当前为返点开票，必须是 负数，差额！！！！
[KEY info] 当前开票项目金额为： -28682.5
增加一个开票项目，在当前返点开票上。。。
【MOCK-UP】生成 开票 所需要的 项目的信息。。。
 [KEY]生成 所有项目数量为： 1
[INFO]如果当前是差额开票，amount，应该为负数， 需要反转生成
【KEY】当前是差额开票，需要反转project amount 为负数！
[INFO]打印当前项目生成list
[{'invoice_project_amount': -28682.5, 'invoice_project_id': '9'}]

【@KEY STEP@】---- 对开票 id ： '133128108'，增加开票项目信息【通用】  。。。
 增加开票字段。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/invoice_detail/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128108, "invoice_details": "[{\"invoice_project_amount\": -28682.5, \"invoice_project_id\": \"9\"}]"}'
-----------------------------------------------
【性能】请求花费时间 0.064161 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '新增成功', 'code': 1, 'data': 26636}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 提交返点实体 id： 。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/submit
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128108}'
-----------------------------------------------
【性能】请求花费时间 2.631139 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------


【审批流】AD账号的票，开票审批 - 审批流： 
[INFO]当前审批流 的期望审批人列表为 
      --&gt;  100316-财务开票专员-finance_invoice_BP
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_invoice_BP' 信息如下 -----------------
ID: 100316; Name: 财务开票专员; Boss_ID: None; Boss_name: None; Area: u'财务BP组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 对开票 ：id - '133128108'审批通过  。。。
 [KEY STEP] 先detail 获取process and task id

【@KEY STEP@】---- get 开票 detail ：id '133128108'，  。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/detail
  Cookies : {'fake_employee_id': '100316', 'login_employee_id': '100316'}
  Parameters : {'invoice_id': 133128108}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.124684 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': {'invoice_detail_status_name': '未开票', 'revert_amount': '0.000000', 'actual_invoice_amount': '0.000000', 'statement_id': 0, 'diff_amount': '-28682.50', 'org_revert_status': None, 'submit_time': '2019-11-15 18:35:11', 'unprintable_remark': 'auto_非打印备注-20706796413685', 'qualification_changed_name': None, 'invoice_object': 3, 'send_status_name': None, 'org_invoice_id': None, 'contact_address': None, 'create_time': '2019-11-15 18:35:08', 'source_name': 'STA', 'customer_subject_name': '开票公司名-Auto-名字15738141086六要素', 'is_revert_name': '否', 'customer_name': '今日头条-品牌广告PM-测试账号-2', 'relate_status_name': None, 'submitter_name': '商务A', 'tax_no': '13401447651', 'contract_id': '6750234582420816653', 'invoice_status_name': None, 'source': 2, 'revert_amount_remain': '0.000000', 'relate_amount': None, 'contract_subject_name': '北京字跳网络技术有限公司', 'status_name': '审批中', 'revert_frozen_amount': '0.000000', 'invoice_amount': '-28682.50', 'platform': 0, 'contract_subject_id': 35, 'bank_account': '47857286724481', 'difference_invoice_name': '全额开票', 'send_status': None, 'customer_id': 44973674, 'contact_phone': None, 'invoiced_time': None, 'process_id': 47867846, 'customer_email': 'auto.mail.6571046@bytedance.com', 'assign_type_name': None, 'assign_type': None, 'task_id': 47868483, 'relate_amount_remain': None, 'invoice_type': 1, 'customer_phone': '13406293051', 'customer_address': 'Auto-名字1573814108地址-6六要素', 'change_status_name': None, 'org_revert_status_name': None, 'qualification_status_name': None, 'change_status': None, 'invoice_object_name': '返点结算开票', 'revert_status_name': '未红冲', 'bank': 'Auto-名字1573814108银行-6六要素', 'invoice_detail_status': 1, 'invoice_serial': 'INV133128108', 'remark': 'auto_remark-29034736434391', 'org_invoice_serial': None, 'invoice_status': None, 'default_invoice_project_name': None, 'creator_name': '商务A', 'difference_invoice': 0, 'submitter_id': 100339, 'invoice_id': 133128108, 'express_number': None, 'express_company': None, 'customer_sms_phones': None, 'abandoned_amount': '0.00', 'platform_name': '广告平台', 'creator_id': 100339, 'contact': '', 'status': 2, 'relate_status': None, 'contract_serial': 'BJKJ2019102105272', 'invoice_type_name': '增值税普通发票', 'qualification_status': None, 'revert_status': 1, 'default_invoice_project_id': None, 'invoice_nos': None, 'qualification_changed': None}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100316', 'login_employee_id': '100316'}
  Method : POST
  Payload : '{"comment": " \u968f\u4fbf \u901a\u8fc7\uff0c\u4e0d\u4e3b\u52a8\u4e0d\u62d2\u7edd\u4e0d\u8d1f\u8d23", "process_id": 47867846, "task_id": 47868483}'
-----------------------------------------------
【性能】请求花费时间 0.89064 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
----------------------------------------------------
    ---- 打印当前开票信息： 类型 ：返点
----------------------------------------------------
    ---- 开票ID ：133128108
    ---- 开票Serial ：INV133128108
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                        rebate_obj  :  {'contract_id': '6750234582420816653', 'rebate_balance_id': 133128720, 'rebate_amount': 28682.5, 'rebate_balance_serial': 'FD133128720', 'agent_id': 44971517, 'approval_list': ['finance_account_A'], 'payload': {'channel_salesman_id': '100322', 'supplement_con_serial': 'CON10000000', 'use_types': '1,2,3', 'sales_ids': '100322', 'month_quarter': 2, 'area_type': 9, 'amount': 28682.5, 'submit_approval': True, 'agent_id': 44971517, 'contract_serial': u'BJKJ2019102105272', 'year': 2025, 'leading_area': 1, 'standard': 1, 'type': 3, 'submit_approve_date': '2019-11-15'}} 
                      project_list  :  [{'invoice_project_amount': -28682.5, 'invoice_project_id': '9'}] 
                       contract_id  :  6750234582420816653 
                    common_payload  :  {'tax_no': '13401447651', 'contract_subject_id': 35, 'customer_email': 'auto.mail.6571046@bytedance.com', 'customer_subject_name': u'\u5f00\u7968\u516c\u53f8\u540d-Auto-\u540d\u5b5715738141086\u516d\u8981\u7d20', 'unprintable_remark': u'auto_\u975e\u6253\u5370\u5907\u6ce8-20706796413685', 'invoice_type': 1, 'remark': 'auto_remark-29034736434391', 'customer_phone': '13406293051', 'customer_sms_phones': ['13405440879'], 'region_last_id': 3, 'customer_address': u'Auto-\u540d\u5b571573814108\u5730\u5740-6\u516d\u8981\u7d20', 'contact_address': u'Auto-\u540d\u5b571573814108\u5730\u5740-\u63a5\u6536\u4fe1\u606f', 'contact': u'\u6e20\u9053\u9500\u552eA', 'bank': u'Auto-\u540d\u5b571573814108\u94f6\u884c-6\u516d\u8981\u7d20', 'invoice_id': 133128108, 'contact_phone': '13402886237', 'region_ids': [1, 2, 3], 'bank_account': 47857286724481} 
                        invoice_id  :  133128108 
                         rebate_id  :  133128720 
                    invoice_serial  :  INV133128108 
                     rebate_serial  :  FD133128720 
----------------------------------------------------

----------------------------------------------------


[PAYLOAD-Prepare]准备返点支付单创建所需要的数据！！

【INF】没有提供apply_amount，默认输入返点所有amount
打印当前的 返点信息list :
[{'amount': 28682.5, 'id': 133128720}]

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】API 创建返点 支付申请单！
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/pay_order/add_rebate
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"pay_category": 1, "biz_type": 0, "biz_line": 0, "rebates": "[{\"amount\": 28682.5, \"id\": 133128720}]"}'
-----------------------------------------------
【性能】请求花费时间 3.869046 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'pay_order_id': 7517}}
------------------------------------------------------------------------

【@KEY STEP@】API 更新当前 支付申请单 银行信息 id = 7517
[INFO] 获取银行相关信息, 关键字 ：招商银行股份有限公司福州分行营业部
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/main_data/bank/keyword
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Parameters : {'key_word': u'招商银行股份有限公司福州分行营业部'}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.173291 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': [{'bank_name': '招商银行股份有限公司福州分行营业部', 'bank_no': '308391026028', 'bank_code': 'MDBK00063026'}]}
------------------------------------------------------------------------
    [INFO]随机生成的 日期： 2019-12-18
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                         bank_name  :  招商银行股份有限公司福州分行营业部 
                         bank_code  :  MDBK00063026 
                 bank_account_name  :  auto账号-54959943096978 
                   bank_account_no  :  64816069314360 
                      pay_order_id  :  7517 
                   latest_pay_date  :  2019-12-18 
                           bank_no  :  308391026028 
----------------------------------------------------


【@KEY STEP@】API 增加银行信息到当前支付单！支付单ID： 7517
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/pay_order/update_receiver
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"bank_name": "\u62db\u5546\u94f6\u884c\u80a1\u4efd\u6709\u9650\u516c\u53f8\u798f\u5dde\u5206\u884c\u8425\u4e1a\u90e8", "bank_code": "MDBK00063026", "bank_account_name": "auto\u8d26\u53f7-54959943096978", "bank_account_no": "64816069314360", "pay_order_id": 7517, "latest_pay_date": "2019-12-18", "bank_no": "308391026028"}'
-----------------------------------------------
【性能】请求花费时间 2.201144 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '更新成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
[INFO] 为支付申请单添加附件！支付单ID： None
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/attachment/upload
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"file_list": [{"file_name": "761f12b79a5fac36422f9f45510b601b.docx", "origin_file_name": "3M\u7ed3\u7b97\u5355-\u5b57\u8282\u5c0f\u7a0b\u5e8f\u5e7f\u544a_V2.0-\u5355\u7ae0 (1) (1) (1) (1).docx"}], "entity_id": 7517, "entity_type": 1}'
-----------------------------------------------
【性能】请求花费时间 2.303152 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'ids': [1061]}}
------------------------------------------------------------------------

【@KEY STEP@】API 提交审批当前 支付申请单！！支付单ID： 7517
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/submit
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"entity_id": "7517", "pay_order_id": "7517", "entity_type": 1}'
-----------------------------------------------
【性能】请求花费时间 4.998242 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '提交成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
auto账号-54959943096978 今日头条-品牌广告PM-测试账号-2


【审批流】返点 支付申请单，amount 金额为 28682.500000 
期望审批流是 ['businessBP_sepcial', 'finance_account_A']
[INFO]当前 100339-商务A-business_A 的期望审批人列表为 
      --&gt;  100342-商务BP-特别-businessBP_sepcial
            --&gt;  100364-finance-A-finance_account_A
[审批流] 对于支付申请 id ：7517, 逐级审批通过

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'businessBP_sepcial' 信息如下 -----------------
ID: 100342; Name: 商务BP-特别; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'网服三部', u'网服一部', u'网服二部']
  @@@@@@@@@@@@@@@@@@@@@@   
 
100342-商务BP-特别-businessBP_sepcial
[审批流]确保当前登录人 ： 100342-商务BP-特别-businessBP_sepcial， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7517
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Parameters : {'entity_id': 7517, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.264566 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 1, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100342, 1039686, 1102771, 1393610, 1553567, 1738665, 1793273, 2016672, 2200195, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '商务专员', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Tao Shi', 'employee_id': 2200195, 'leader_id': 2221979, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '石涛', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'shitao.tobias@bytedance.com', 'department_id': 100725}, {'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100342, 'leader_id': 100338, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '商务BP-特别', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'businessBP_special@cgtest.com', 'department_id': 111114478}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:35:27', 'task_name': '', 'operator_name': '商务A', 'id': 38839}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7517 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Parameters : {'entity_id': 7517, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.097419 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47875553, 'ref_id': 14106, 'task_id': 47876867, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Method : POST
  Payload : '{"task_id": 47876867, "ref_id": 14106}'
-----------------------------------------------
【性能】请求花费时间 11.657513 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_account_A' 信息如下 -----------------
ID: 100364; Name: finance-A; Boss_ID: None; Boss_name: None; Area: u'核算组'
  @@@@@@@@@@@@@@@@@@@@@@   
 
100364-finance-A-finance_account_A
[审批流]确保当前登录人 ： 100364-finance-A-finance_account_A， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7517
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 7517, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.714081 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 2, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100364, 100365, 100366, 1039686, 1102771, 1393610, 1553567, 1738665, 1793273, 2016672, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5153893, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '财务核算初审', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100364, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': 'finance-A', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_A@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100365, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '财务核算-B', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_B@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100366, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '财务核算-C', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_C@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Huifang An', 'employee_id': 5153893, 'leader_id': 7780057, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '安慧芳', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-08-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'anhuifang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100342, 'approval_result_name': '审批通过', 'create_time': '2019-11-15 10:35:41', 'task_name': '商务专员', 'operator_name': '商务BP-特别', 'id': 38848}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:35:27', 'task_name': '', 'operator_name': '商务A', 'id': 38839}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7517 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 7517, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.759171 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47875553, 'ref_id': 14106, 'task_id': 47880876, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Method : POST
  Payload : '{"task_id": 47880876, "ref_id": 14106}'
-----------------------------------------------
【性能】请求花费时间 3.344833 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
[Verify - Begin] 【支付申请单】整单状态校验开始
[Verify - Done] 【支付申请单】整单状态校验结束
[Verify - Begin] 【支付申请单】支付状态校验开始
[Verify - Done] 【支付申请单】支付状态校验结束
[Verify - Begin] 支付申请单金额 1.金额
[Verify - Done] 支付申请单金额 Done


        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr id='pt1.2' class='hiddenRow'>
    <td class='none'><div class='testcase'>test_pay_order_approval_2: 返点体现支付申请单的审批流，收款方名称与返点流水客户名称一致        <br> 校验        <br> 1. 申请单状态为 审批通过        <br> 2. 申请单的支付状态为 未支付        <br> 3. 通用信息校验，申请金额</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.2')" >
        pass</a>

    <div id='div_pt1.2' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_pt1.2').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
pt1.2:  准备一个 审批通过的  返点开票。。。。

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
增加一笔返点在当前返点开票上。。。。


--------------------------------------------------------------------------
-----准备造数据 ：盖章，回收当前 的返点 -------
------------------------------------------------------------------------------


--------------------------------------------------------------------------
-----准备造数据 ：消管生成一个  已结算的返点 -------
------------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'channelsalesmanage_B' 信息如下 -----------------
ID: 100336; Name: 渠道销管B; Boss_ID: 100334; Boss_name: 渠道销管leader; Area: u'渠道一部'
  @@@@@@@@@@@@@@@@@@@@@@   
 
【MOCK-UP】生成返点新建所需要的 payload 信息。。。
              [INFO]没有提供具体的代理商/客户ID， 那么接下来随机db里面找一个可用代理商
      【INFO】随机找到一个审批通过的客户，ID为
              [INFO]agent_id ： 44972763
              [INFO]使用传入的返点金额 ： 383868.36
              [INFO]随机生成的返点类型是types：二返
              [INFO]使用传入的返点使用类型
              [INFO]有3种返点使用方式，分别为：1,2,3 - 现金,返点抵扣,充值到AD
              [INFO]返点结算年为：2020
              [INFO]返点结算月份/季度为：Q3
    [INFO]DB里面，用sales id = '100322', 随机找到一个审批通过之后状态的 合同 。。。
    [INFO]DB 拿到的contract_serial ： BJJL2019092704898
    [INFO]随机生成的 日期： 2019-11-15
[INFO] 随机增加返点部分的 金额相关词case
 ----------------------------------
 ------打印 返点新建详情----------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                        reset_cost  :  33 
             cur_net_no_bid_income  :  72.94 
                              year  :  2020 
        special_industry_bid_ratio  :  0.04 
            cur_no_join_bid_income  :  29 
                    bidding_income  :  16.16 
             cur_no_join_bid_ratio  :  0.03 
    quarter_assessment_rebate_amount  :  96.17 
                 illegal_deduction  :  8 
                         area_type  :  1 
    video_material_bid_reward_income  :  70.01 
                      leading_area  :  3 
             cur_no_net_bid_income  :  65 
                              type  :  2 
               channel_salesman_id  :  100322 
             supplement_con_serial  :  CON10000000 
                         sales_ids  :  100322 
                     month_quarter  :  15 
                          standard  :  1 
                       brand_ratio  :  0.61 
                          agent_id  :  44972763 
               luban_reward_income  :  7.26 
               submit_approve_date  :  2019-11-15 
                         use_types  :  1,2,3 
                luban_reward_ratio  :  0.01 
                     illegal_money  :  53.69 
                            amount  :  383868.36 
                   contract_serial  :  BJJL2019092704898 
              cur_no_net_bid_ratio  :  0.62 
       video_platform_reward_ratio  :  0.55 
----------------------------------------------------


 ---------保存审批-------------------------
 【INFo】如果不需要 代理商审批，直接提交！

【@KEY STEP@】--- 通过API 保存/新建,提交审批一条返点结算
              [INFO]提交审批
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100336', 'login_employee_id': '100336'}
  Method : POST
  Payload : '{"reset_cost": 33, "cur_net_no_bid_income": 72.94, "year": 2020, "special_industry_bid_ratio": 0.04, "cur_no_join_bid_income": 29, "bidding_income": 16.16, "cur_no_join_bid_ratio": 0.03, "quarter_assessment_rebate_amount": 96.17, "illegal_deduction": 8, "area_type": 1, "video_material_bid_reward_income": 70.01, "leading_area": 3, "cur_no_net_bid_income": 65, "type": 2, "submit_approval": true, "channel_salesman_id": "100322", "supplement_con_serial": "CON10000000", "sales_ids": "100322", "month_quarter": 15, "standard": 1, "brand_ratio": 0.61, "agent_id": 44972763, "luban_reward_income": 7.26, "submit_approve_date": "2019-11-15", "use_types": "1,2,3", "luban_reward_ratio": 0.01, "illegal_money": 53.69, "amount": 383868.36, "contract_serial": "BJJL2019092704898", "cur_no_net_bid_ratio": 0.62, "video_platform_reward_ratio": 0.55}'
-----------------------------------------------
【性能】请求花费时间 1.497428 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '保存成功', 'code': 1, 'data': {'rebate_balance_id': 133128723, 'rebate_balance_serial': 'FD133128723'}}
------------------------------------------------------------------------
[INFO]DB里面，通过serial -BJJL2019092704898，获取id 。。。
[INFO]DB 拿到的 contract id ： 6741296401105289988
-------------已提交审批，rebate_balance_id 为 133128723

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  2 - 审批中待结算  
                       StampStatus  :  1 - 未盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  BJJL2019092704898 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  1 - 未回收  
                            Amount  :  38386.0 
                            Serial  :  FD133128723 
                           AgentID  :  44972763 
                                ID  :  133128723 
                             Types  :  2 - 二返  
----------------------------------------------------

 ------------------------------------------------------------

----------审批中，走审批流---------------------------


-------------------------------
【INFO】返点审批流 财务核算
-------------------------------
approval_list审批流为['finance_account_A']
审批人：finance_account_A
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_account_A' 信息如下 -----------------
ID: 100364; Name: finance-A; Boss_ID: None; Boss_name: None; Area: u'核算组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 获取下一个 待审批人列表

【@KEY STEP@】--- 通过API 审批通过 结算单/或返点， entity_id=133128723， entity_type : 8 - rebate
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/log_list
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 133128723, 'entity_type': 8}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.058889 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': {'total': 1, 'list': [{'comment': '', 'entity_id': None, 'result': 5, 'approver_id': '1806,100356,100363,100364,100365,100366,1102771,1128722,1168921,1271797,1285632,1393610,1553567,1602508,2057512,2369107,2720176,2923026,3289606,3299115,3703672,3725361,3815870,3902625,5060758,5081990,5153893,5207100,5616263,5817132,6003520,6357583,7103308,7199767,7206065,7535702,7780057,7883021,7922808,7995555,8002517,8793781,8976986,9055612,9878229,9903339', 'approver_name': '杨丹,财务BP-B,财务核算leader,finance-A,财务核算-B,财务核算-C,仇衍铭,黄玲,张文博,廖亮,李明华,张一凡,李硕德,顾见颀,章利,田金杰,兰雁,李瑶,郑小冰,刘玉娟,王安龙,李雪,陈智,刘雷,马晓策,陈子健,安慧芳,张剑,李晶晶,周黎,杜现芳,夏春阳,吴得瑀,吴昊,于宾,孙娇娇,贾珊,石红霞,孙伟,周立文,郭继春,董学军,郑珊,王德宸,高玉婷,李静静', 'informed_names': None, 'create_time': '', 'approval_department': '财务', 'result_name': '待审批', 'file_names': None, 'approval_record_id': 1}]}}
------------------------------------------------------------------------

【@KEY STEP@】--- 通过API 审批通过 返点， rebate_balance_id=133128723

【@KEY STEP@】--- 通过API 获取一个返点， id=133128723
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/detail
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'rebate_balance_id': 133128723}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.059148 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '获取详情成功', 'code': 1, 'data': {'display_template_area': 1, 'agent_name': '今日头条-品牌广告PM-测试账号-2', 'area_type_name': '华北', 'use_amount': '0.00', 'use_status_name': '未使用', 'archive_locker_no': '', 'rebate_balance_id': 133128723, 'agent_type_name': '', 'archive_status_name': '未回收', 'leading_area_name': '华南', 'rebate_balance_serial': 'FD133128723', 'use_status': 1, 'stamp_status': 1, 'create_time': '2019-11-15 18:35:47', 'year': 2020, 'remain_amount': '0.00', 'archive_box_no': '', 'archive_num': 0, 'archive_time': '', 'channel_salesman_name': 'channel client sales_A', 'contract_subject_name': '北京巨量引擎网络技术有限公司', 'type_name': '二返', 'sales_names': 'channel client sales_A', 'area_type': 1, 'month_quarter_name': 'Q3', 'contract_subject_id': 39, 'agent_type': 27, 'stamp_status_name': '未盖章', 'approval_time': '2019-11-15', 'agent_category_name': '普代', 'type': 2, 'agent_approval_name': None, 'category': 2, 'agent_approval_time': None, 'channel_salesman_id': 100322, 'operate_time': None, 'stamp_type_name': '线下盖章', 'supplement_con_serial': 'CON10000000', 'stamp_stap_id': None, 'archive_status': 1, 'sales_ids': [100322], 'submit_approve_date': '2019-11-15', 'remark': '', 'month_quarter': 15, 'standard': '1', 'process_id': 47884677, 'agent_id': 44972763, 'step_id': None, 'leading_area': 3, 'category_name': '代理商', 'status': 2, 'rebate_id': 0, 'use_types': [1, 2, 3], 'task_id': 47885038, 'status_name': '审批中', 'agent_category': 2, 'standard_name': '标准', 'amount': '383868.36', 'frozen_amount': '0.00', 'contract_serial': 'BJJL2019092704898', 'standard_serial': '', 'stamp_type': 2, 'use_type_names': ['现金', '返点抵扣', '充值到AD']}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Method : POST
  Payload : '{"entity_id": "133128723", "process_id": 47884677, "task_id": 47885038}'
-----------------------------------------------
【性能】请求花费时间 0.826302 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  3 - 已结算  
                       StampStatus  :  1 - 未盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  BJJL2019092704898 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  1 - 未回收  
                            Amount  :  38386.0 
                            Serial  :  FD133128723 
                           AgentID  :  44972763 
                                ID  :  133128723 
                             Types  :  2 - 二返  
----------------------------------------------------

 ------------------------------------------------------------
-----数据准备完毕------------------------------------------------




  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 盖章申请 一条返点, id ： 133128723
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/stamp_request
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128723, "party_a_num": 3, "stamp_order": 1, "party_b_num": 1}'
-----------------------------------------------
【性能】请求花费时间 0.087067 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '非常抱歉，系统发生内部错误，错误已被登记，错误ID号为: 1573814153，更多问题请联系管理员解决。', 'code': -1}
------------------------------------------------------------------------
[RETRY]sleep一下,重试一次

【@KEY STEP@】--- 通过API 盖章申请 一条返点, id ： 133128723
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/stamp_request
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128723, "party_a_num": 1, "stamp_order": 1, "party_b_num": 3}'
-----------------------------------------------
【性能】请求花费时间 2.609469 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '申请成功', 'code': 1}
------------------------------------------------------------------------
[审批流]获取 结算单盖章审批流...
[INFO]当前期望审批人列表为... 
      --&gt;  100357-合同专员-contractops
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'contractops' 信息如下 -----------------
ID: 100357; Name: 合同专员; Boss_ID: None; Boss_name: None; Area: u'财务合同组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 盖章通过 返点， rebate_balance_id=133128723

【@KEY STEP@】--- 通过API 获取一个返点， id=133128723
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/detail
  Cookies : {'fake_employee_id': '100357', 'login_employee_id': '100357'}
  Parameters : {'rebate_balance_id': 133128723}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.05736 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '获取详情成功', 'code': 1, 'data': {'display_template_area': 1, 'agent_name': '今日头条-品牌广告PM-测试账号-2', 'area_type_name': '华北', 'use_amount': '0.00', 'use_status_name': '未使用', 'archive_locker_no': '', 'rebate_balance_id': 133128723, 'agent_type_name': '', 'archive_status_name': '未回收', 'leading_area_name': '华南', 'rebate_balance_serial': 'FD133128723', 'use_status': 1, 'stamp_status': 2, 'create_time': '2019-11-15 18:35:47', 'year': 2020, 'remain_amount': '0.00', 'archive_box_no': '', 'archive_num': 0, 'archive_time': '', 'channel_salesman_name': 'channel client sales_A', 'contract_subject_name': '北京巨量引擎网络技术有限公司', 'type_name': '二返', 'sales_names': 'channel client sales_A', 'area_type': 1, 'month_quarter_name': 'Q3', 'contract_subject_id': 39, 'agent_type': 27, 'stamp_status_name': '审批中', 'approval_time': '2019-11-15', 'agent_category_name': '普代', 'type': 2, 'agent_approval_name': None, 'category': 2, 'agent_approval_time': None, 'channel_salesman_id': 100322, 'operate_time': None, 'stamp_type_name': '线下盖章', 'supplement_con_serial': 'CON10000000', 'stamp_stap_id': None, 'archive_status': 1, 'sales_ids': [100322], 'submit_approve_date': '2019-11-15', 'remark': '', 'month_quarter': 15, 'standard': '1', 'process_id': 47887483, 'agent_id': 44972763, 'step_id': None, 'leading_area': 3, 'category_name': '代理商', 'status': 3, 'rebate_id': 0, 'use_types': [1, 2, 3], 'task_id': 47887881, 'status_name': '审批通过', 'agent_category': 2, 'standard_name': '标准', 'amount': '383868.36', 'frozen_amount': '0.00', 'contract_serial': 'BJJL2019092704898', 'standard_serial': '', 'stamp_type': 2, 'use_type_names': ['现金', '返点抵扣', '充值到AD']}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100357', 'login_employee_id': '100357'}
  Method : POST
  Payload : '{"entity_id": "133128723", "process_id": 47887483, "task_id": 47887881}'
-----------------------------------------------
【性能】请求花费时间 0.644325 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 回收 一条返点结算，id：133128723
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/retrieve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128723}'
-----------------------------------------------
【性能】请求花费时间 0.034458 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '回收成功', 'code': 1}
------------------------------------------------------------------------

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  3 - 已结算  
                       StampStatus  :  3 - 已盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  BJJL2019092704898 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  2 - 已回收  
                            Amount  :  38386.0 
                            Serial  :  FD133128723 
                           AgentID  :  44972763 
                                ID  :  133128723 
                             Types  :  2 - 二返  
----------------------------------------------------

 ------------------------------------------------------------
-----数据准备完毕------------------------------------------------




  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 创建一个 返点 开票 对象，contract_id :'6741296401105289988'  。。。
当前开票platform  3-返点开票

【@KEY STEP@】---- 创建一个 开票 对象''  。。。
  用当前传入的contract_id 覆盖 6741296401105289988
---打印当前 创建payload ----
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                          platform  :  0 
                       contract_id  :  6741296401105289988 
                    invoice_object  :  3 
----------------------------------------------------

None
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/create
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"platform": 0, "contract_id": 6741296401105289988, "invoice_object": 3}'
-----------------------------------------------
【性能】请求花费时间 0.130346 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128110}
------------------------------------------------------------------------

【@KEY STEP@】---- 给当前发票id = '133128110' 增加返点 rebate_id=133128723  。。。

【@KEY STEP@】---- 给当前发票id = '133128110' 绑定实体  。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/bind
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128110, "bind_records": "[{\"amount\": 383868.36, \"id\": 133128723}]"}'
-----------------------------------------------
【性能】请求花费时间 0.066542 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128110}
------------------------------------------------------------------------
【MOCK-UP】生成 更新 通用 - 开票 所需要的 payload 信息。。。
              [INFO]随机生成的名称： Auto-名字1573814158
              [INFO]随机生成的名称： Auto-名字1573814158
              [INFO]随机生成的名称： Auto-名字1573814158
              [INFO]随机生成的名称： Auto-名字1573814158
              [INFO]使用随机生成的email ：  auto.mail.1936490@bytedance.com
    [INFO]DB 随机找到的签约主体是  ： 7 - 江苏今日头条信息科技有限公司 
----------------------------------------------------
【Print】printing mocked data in lines。。。
                          tax_no  :  13404698579 
             contract_subject_id  :  7 
                  customer_email  :  auto.mail.1936490@bytedance.com 
           customer_subject_name  :  开票公司名-Auto-名字15738141586六要素 
              unprintable_remark  :  auto_非打印备注-79289040800609 
                    invoice_type  :  3 
                          remark  :  auto_remark-64441496990761 
                  customer_phone  :  13408493380 
             customer_sms_phones  :  ['13402640466'] 
                  region_last_id  :  3 
                customer_address  :  Auto-名字1573814158地址-6六要素 
                 contact_address  :  Auto-名字1573814158地址-接收信息 
                         contact  :  渠道销售A 
                            bank  :  Auto-名字1573814158银行-6六要素 
                   contact_phone  :  13406504497 
                      region_ids  :  [1, 2, 3] 
                    bank_account  :  69764194142527 
----------------------------------------------------


【@KEY STEP@】---- 保存 更新六要素 实体 id：133128110 。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"tax_no": "13404698579", "contract_subject_id": 7, "customer_email": "auto.mail.1936490@bytedance.com", "customer_subject_name": "\u5f00\u7968\u516c\u53f8\u540d-Auto-\u540d\u5b5715738141586\u516d\u8981\u7d20", "unprintable_remark": "auto_\u975e\u6253\u5370\u5907\u6ce8-79289040800609", "invoice_type": 3, "remark": "auto_remark-64441496990761", "customer_phone": "13408493380", "customer_sms_phones": ["13402640466"], "region_last_id": 3, "customer_address": "Auto-\u540d\u5b571573814158\u5730\u5740-6\u516d\u8981\u7d20", "contact_address": "Auto-\u540d\u5b571573814158\u5730\u5740-\u63a5\u6536\u4fe1\u606f", "contact": "\u6e20\u9053\u9500\u552eA", "bank": "Auto-\u540d\u5b571573814158\u94f6\u884c-6\u516d\u8981\u7d20", "invoice_id": 133128110, "contact_phone": "13406504497", "region_ids": [1, 2, 3], "bank_account": 69764194142527}'
-----------------------------------------------
【性能】请求花费时间 0.078396 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128110}
------------------------------------------------------------------------
[KEY info] 当前为返点开票，必须是 负数，差额！！！！
[KEY info] 当前开票项目金额为： -383868.36
增加一个开票项目，在当前返点开票上。。。
【MOCK-UP】生成 开票 所需要的 项目的信息。。。
 [KEY]生成 所有项目数量为： 10
[INFO]如果当前是差额开票，amount，应该为负数， 需要反转生成
【KEY】当前是差额开票，需要反转project amount 为负数！
[INFO]打印当前项目生成list
[{'invoice_project_amount': -189956.72, 'invoice_project_id': '4'}, {'invoice_project_amount': -155496.99, 'invoice_project_id': '5'}, {'invoice_project_amount': -2452.54, 'invoice_project_id': '8'}, {'invoice_project_amount': -8413.45, 'invoice_project_id': '1'}, {'invoice_project_amount': -17434.33, 'invoice_project_id': '9'}, {'invoice_project_amount': -9834.33, 'invoice_project_id': '33'}, {'invoice_project_amount': -145.39, 'invoice_project_id': '3'}, {'invoice_project_amount': -25.6, 'invoice_project_id': '2'}, {'invoice_project_amount': -15.03, 'invoice_project_id': '6'}, {'invoice_project_amount': -93.98, 'invoice_project_id': '7'}]

【@KEY STEP@】---- 对开票 id ： '133128110'，增加开票项目信息【通用】  。。。
 增加开票字段。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/invoice_detail/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128110, "invoice_details": "[{\"invoice_project_amount\": -189956.72, \"invoice_project_id\": \"4\"}, {\"invoice_project_amount\": -155496.99, \"invoice_project_id\": \"5\"}, {\"invoice_project_amount\": -2452.54, \"invoice_project_id\": \"8\"}, {\"invoice_project_amount\": -8413.45, \"invoice_project_id\": \"1\"}, {\"invoice_project_amount\": -17434.33, \"invoice_project_id\": \"9\"}, {\"invoice_project_amount\": -9834.33, \"invoice_project_id\": \"33\"}, {\"invoice_project_amount\": -145.39, \"invoice_project_id\": \"3\"}, {\"invoice_project_amount\": -25.6, \"invoice_project_id\": \"2\"}, {\"invoice_project_amount\": -15.03, \"invoice_project_id\": \"6\"}, {\"invoice_project_amount\": -93.98, \"invoice_project_id\": \"7\"}]"}'
-----------------------------------------------
【性能】请求花费时间 0.101733 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '新增成功', 'code': 1, 'data': 26638}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 提交返点实体 id： 。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/submit
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128110}'
-----------------------------------------------
【性能】请求花费时间 1.511872 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------


【审批流】AD账号的票，开票审批 - 审批流： 
[INFO]当前审批流 的期望审批人列表为 
      --&gt;  100316-财务开票专员-finance_invoice_BP
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_invoice_BP' 信息如下 -----------------
ID: 100316; Name: 财务开票专员; Boss_ID: None; Boss_name: None; Area: u'财务BP组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 对开票 ：id - '133128110'审批通过  。。。
 [KEY STEP] 先detail 获取process and task id

【@KEY STEP@】---- get 开票 detail ：id '133128110'，  。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/detail
  Cookies : {'fake_employee_id': '100316', 'login_employee_id': '100316'}
  Parameters : {'invoice_id': 133128110}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.114937 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': {'invoice_detail_status_name': '未开票', 'revert_amount': '0.000000', 'actual_invoice_amount': '0.000000', 'statement_id': 0, 'diff_amount': '-383868.36', 'org_revert_status': None, 'submit_time': '2019-11-15 18:36:00', 'unprintable_remark': 'auto_非打印备注-79289040800609', 'qualification_changed_name': None, 'invoice_object': 3, 'send_status_name': None, 'org_invoice_id': None, 'contact_address': None, 'create_time': '2019-11-15 18:35:58', 'source_name': 'STA', 'customer_subject_name': '开票公司名-Auto-名字15738141586六要素', 'is_revert_name': '否', 'customer_name': '今日头条-品牌广告PM-测试账号-2', 'relate_status_name': None, 'submitter_name': '商务A', 'tax_no': '13404698579', 'contract_id': '6741296401105289988', 'invoice_status_name': None, 'source': 2, 'revert_amount_remain': '0.000000', 'relate_amount': None, 'contract_subject_name': '江苏今日头条信息科技有限公司', 'status_name': '审批中', 'revert_frozen_amount': '0.000000', 'invoice_amount': '-383868.36', 'platform': 0, 'contract_subject_id': 7, 'bank_account': '69764194142527', 'difference_invoice_name': '全额开票', 'send_status': None, 'customer_id': 44971510, 'contact_phone': None, 'invoiced_time': None, 'process_id': 47889033, 'customer_email': 'auto.mail.1936490@bytedance.com', 'assign_type_name': None, 'assign_type': None, 'task_id': 47889613, 'relate_amount_remain': None, 'invoice_type': 3, 'customer_phone': '13408493380', 'customer_address': 'Auto-名字1573814158地址-6六要素', 'change_status_name': None, 'org_revert_status_name': None, 'qualification_status_name': None, 'change_status': None, 'invoice_object_name': '返点结算开票', 'revert_status_name': '未红冲', 'bank': 'Auto-名字1573814158银行-6六要素', 'invoice_detail_status': 1, 'invoice_serial': 'INV133128110', 'remark': 'auto_remark-64441496990761', 'org_invoice_serial': None, 'invoice_status': None, 'default_invoice_project_name': None, 'creator_name': '商务A', 'difference_invoice': 0, 'submitter_id': 100339, 'invoice_id': 133128110, 'express_number': None, 'express_company': None, 'customer_sms_phones': None, 'abandoned_amount': '0.00', 'platform_name': '广告平台', 'creator_id': 100339, 'contact': '', 'status': 2, 'relate_status': None, 'contract_serial': 'BJJL2019092704898', 'invoice_type_name': '增值税电子普通发票', 'qualification_status': None, 'revert_status': 1, 'default_invoice_project_id': None, 'invoice_nos': None, 'qualification_changed': None}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100316', 'login_employee_id': '100316'}
  Method : POST
  Payload : '{"comment": " \u968f\u4fbf \u901a\u8fc7\uff0c\u4e0d\u4e3b\u52a8\u4e0d\u62d2\u7edd\u4e0d\u8d1f\u8d23", "process_id": 47889033, "task_id": 47889613}'
-----------------------------------------------
【性能】请求花费时间 0.890138 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
----------------------------------------------------
    ---- 打印当前开票信息： 类型 ：返点
----------------------------------------------------
    ---- 开票ID ：133128110
    ---- 开票Serial ：INV133128110
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                        rebate_obj  :  {'contract_id': '6741296401105289988', 'rebate_balance_id': 133128723, 'rebate_amount': 383868.36, 'rebate_balance_serial': 'FD133128723', 'agent_id': 44972763, 'approval_list': ['finance_account_A'], 'payload': {'reset_cost': 33, 'cur_net_no_bid_income': 72.94, 'year': 2020, 'special_industry_bid_ratio': 0.04, 'cur_no_join_bid_income': 29, 'bidding_income': 16.16, 'cur_no_join_bid_ratio': 0.03, 'quarter_assessment_rebate_amount': 96.17, 'illegal_deduction': 8, 'area_type': 1, 'video_material_bid_reward_income': 70.01, 'leading_area': 3, 'cur_no_net_bid_income': 65, 'type': 2, 'submit_approval': True, 'channel_salesman_id': '100322', 'supplement_con_serial': 'CON10000000', 'sales_ids': '100322', 'month_quarter': 15, 'standard': 1, 'brand_ratio': 0.61, 'agent_id': 44972763, 'luban_reward_income': 7.26, 'submit_approve_date': '2019-11-15', 'use_types': '1,2,3', 'luban_reward_ratio': 0.01, 'illegal_money': 53.69, 'amount': 383868.36, 'contract_serial': u'BJJL2019092704898', 'cur_no_net_bid_ratio': 0.62, 'video_platform_reward_ratio': 0.55}} 
                      project_list  :  [{'invoice_project_amount': -189956.72, 'invoice_project_id': '4'}, {'invoice_project_amount': -155496.99, 'invoice_project_id': '5'}, {'invoice_project_amount': -2452.54, 'invoice_project_id': '8'}, {'invoice_project_amount': -8413.45, 'invoice_project_id': '1'}, {'invoice_project_amount': -17434.33, 'invoice_project_id': '9'}, {'invoice_project_amount': -9834.33, 'invoice_project_id': '33'}, {'invoice_project_amount': -145.39, 'invoice_project_id': '3'}, {'invoice_project_amount': -25.6, 'invoice_project_id': '2'}, {'invoice_project_amount': -15.03, 'invoice_project_id': '6'}, {'invoice_project_amount': -93.98, 'invoice_project_id': '7'}] 
                       contract_id  :  6741296401105289988 
                    common_payload  :  {'tax_no': '13404698579', 'contract_subject_id': 7, 'customer_email': 'auto.mail.1936490@bytedance.com', 'customer_subject_name': u'\u5f00\u7968\u516c\u53f8\u540d-Auto-\u540d\u5b5715738141586\u516d\u8981\u7d20', 'unprintable_remark': u'auto_\u975e\u6253\u5370\u5907\u6ce8-79289040800609', 'invoice_type': 3, 'remark': 'auto_remark-64441496990761', 'customer_phone': '13408493380', 'customer_sms_phones': ['13402640466'], 'region_last_id': 3, 'customer_address': u'Auto-\u540d\u5b571573814158\u5730\u5740-6\u516d\u8981\u7d20', 'contact_address': u'Auto-\u540d\u5b571573814158\u5730\u5740-\u63a5\u6536\u4fe1\u606f', 'contact': u'\u6e20\u9053\u9500\u552eA', 'bank': u'Auto-\u540d\u5b571573814158\u94f6\u884c-6\u516d\u8981\u7d20', 'invoice_id': 133128110, 'contact_phone': '13406504497', 'region_ids': [1, 2, 3], 'bank_account': 69764194142527} 
                        invoice_id  :  133128110 
                         rebate_id  :  133128723 
                    invoice_serial  :  INV133128110 
                     rebate_serial  :  FD133128723 
----------------------------------------------------

----------------------------------------------------


[PAYLOAD-Prepare]准备返点支付单创建所需要的数据！！

【INF】没有提供apply_amount，默认输入返点所有amount
打印当前的 返点信息list :
[{'amount': 383868.36, 'id': 133128723}]

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】API 创建返点 支付申请单！
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/pay_order/add_rebate
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"pay_category": 1, "biz_type": 0, "biz_line": 0, "rebates": "[{\"amount\": 383868.36, \"id\": 133128723}]"}'
-----------------------------------------------
【性能】请求花费时间 1.867783 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'pay_order_id': 7525}}
------------------------------------------------------------------------

【@KEY STEP@】API 更新当前 支付申请单 银行信息 id = 7525
[INFO] 获取银行相关信息, 关键字 ：招商银行股份有限公司福州分行营业部
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/main_data/bank/keyword
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Parameters : {'key_word': u'招商银行股份有限公司福州分行营业部'}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 3.906537 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': [{'bank_name': '招商银行股份有限公司福州分行营业部', 'bank_no': '308391026028', 'bank_code': 'MDBK00063026'}]}
------------------------------------------------------------------------
    [INFO]随机生成的 日期： 2019-12-10
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                         bank_name  :  招商银行股份有限公司福州分行营业部 
                         bank_code  :  MDBK00063026 
                 bank_account_name  :  auto账号-45032341932860 
                   bank_account_no  :  34914559451058 
                      pay_order_id  :  7525 
                   latest_pay_date  :  2019-12-10 
                           bank_no  :  308391026028 
----------------------------------------------------


【@KEY STEP@】API 增加银行信息到当前支付单！支付单ID： 7525
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/pay_order/update_receiver
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"bank_name": "\u62db\u5546\u94f6\u884c\u80a1\u4efd\u6709\u9650\u516c\u53f8\u798f\u5dde\u5206\u884c\u8425\u4e1a\u90e8", "bank_code": "MDBK00063026", "bank_account_name": "auto\u8d26\u53f7-45032341932860", "bank_account_no": "34914559451058", "pay_order_id": 7525, "latest_pay_date": "2019-12-10", "bank_no": "308391026028"}'
-----------------------------------------------
【性能】请求花费时间 0.356955 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '更新成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
[INFO] 为支付申请单添加附件！支付单ID： None
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/attachment/upload
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"file_list": [{"file_name": "0b2c798012e73bbea893832bed81101a.png", "origin_file_name": "Lark20191028-120448.png"}], "entity_id": 7525, "entity_type": 1}'
-----------------------------------------------
【性能】请求花费时间 3.272738 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'ids': [1063]}}
------------------------------------------------------------------------

【@KEY STEP@】API 提交审批当前 支付申请单！！支付单ID： 7525
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/submit
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"entity_id": "7525", "pay_order_id": "7525", "entity_type": 1}'
-----------------------------------------------
【性能】请求花费时间 7.740669 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '提交成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
auto账号-45032341932860 今日头条-品牌广告PM-测试账号-2


【审批流】返点 支付申请单，amount 金额为 383868.360000 
期望审批流是 ['businessBP_sepcial', 'businessleader', 'finance_account_A']
[INFO]当前 100339-商务A-business_A 的期望审批人列表为 
      --&gt;  100342-商务BP-特别-businessBP_sepcial
            --&gt;  100338-商务leader-businessleader
                  --&gt;  100364-finance-A-finance_account_A
[审批流] 对于支付申请 id ：7525, 逐级审批通过

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'businessBP_sepcial' 信息如下 -----------------
ID: 100342; Name: 商务BP-特别; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'网服三部', u'网服一部', u'网服二部']
  @@@@@@@@@@@@@@@@@@@@@@   
 
100342-商务BP-特别-businessBP_sepcial
[审批流]确保当前登录人 ： 100342-商务BP-特别-businessBP_sepcial， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7525
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Parameters : {'entity_id': 7525, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.702201 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 1, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100342, 1039686, 1102771, 1393610, 1553567, 1738665, 1793273, 2016672, 2200195, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '商务专员', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Tao Shi', 'employee_id': 2200195, 'leader_id': 2221979, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '石涛', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'shitao.tobias@bytedance.com', 'department_id': 100725}, {'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100342, 'leader_id': 100338, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '商务BP-特别', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'businessBP_special@cgtest.com', 'department_id': 111114478}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:36:18', 'task_name': '', 'operator_name': '商务A', 'id': 38890}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7525 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Parameters : {'entity_id': 7525, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.553593 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47895229, 'ref_id': 14127, 'task_id': 47896824, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Method : POST
  Payload : '{"task_id": 47896824, "ref_id": 14127}'
-----------------------------------------------
【性能】请求花费时间 2.209972 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'businessleader' 信息如下 -----------------
ID: 100338; Name: 商务leader; Boss_ID: None; Boss_name: None; Area: u'商务合同管理'
  @@@@@@@@@@@@@@@@@@@@@@   
 
100338-商务leader-businessleader
[审批流]确保当前登录人 ： 100338-商务leader-businessleader， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7525
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100338', 'login_employee_id': '100338'}
  Parameters : {'entity_id': 7525, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.671075 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 2, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100338, 1039686, 1102771, 1393610, 1553567, 1738665, 1762296, 1793273, 2016672, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 6796010, 7206065, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8799238, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '商务合同leader', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Bin Y', 'employee_id': 7206065, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '于宾', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'yubin.dd@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Xu Zh', 'employee_id': 8799238, 'leader_id': 6199811, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '朱旭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhuxu.zx@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Wei H', 'employee_id': 6796010, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '胡玮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'huwei.vc@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100338, 'leader_id': 0, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '商务leader', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'businessleader@cgtest.com', 'department_id': 111114478}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': 'Ling Li', 'employee_id': 1762296, 'leader_id': 220, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '李玲', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2017-03-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liling.amy@bytedance.com', 'department_id': 100212}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100342, 'approval_result_name': '审批通过', 'create_time': '2019-11-15 10:36:24', 'task_name': '商务专员', 'operator_name': '商务BP-特别', 'id': 38899}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:36:18', 'task_name': '', 'operator_name': '商务A', 'id': 38890}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7525 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100338', 'login_employee_id': '100338'}
  Parameters : {'entity_id': 7525, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.454182 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47895229, 'ref_id': 14127, 'task_id': 47899456, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100338', 'login_employee_id': '100338'}
  Method : POST
  Payload : '{"task_id": 47899456, "ref_id": 14127}'
-----------------------------------------------
【性能】请求花费时间 6.495813 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_account_A' 信息如下 -----------------
ID: 100364; Name: finance-A; Boss_ID: None; Boss_name: None; Area: u'核算组'
  @@@@@@@@@@@@@@@@@@@@@@   
 
100364-finance-A-finance_account_A
[审批流]确保当前登录人 ： 100364-finance-A-finance_account_A， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7525
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 7525, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.399978 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 3, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100364, 100365, 100366, 1039686, 1102771, 1393610, 1553567, 1738665, 1793273, 2016672, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5153893, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '财务核算初审', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100364, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': 'finance-A', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_A@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100365, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '财务核算-B', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_B@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100366, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '财务核算-C', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_C@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Huifang An', 'employee_id': 5153893, 'leader_id': 7780057, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '安慧芳', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-08-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'anhuifang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100338, 'approval_result_name': '审批通过', 'create_time': '2019-11-15 10:36:33', 'task_name': '商务合同leader', 'operator_name': '商务leader', 'id': 38909}, {'remark': '', 'operator_id': 100342, 'approval_result_name': '审批通过', 'create_time': '2019-11-15 10:36:24', 'task_name': '商务专员', 'operator_name': '商务BP-特别', 'id': 38899}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:36:18', 'task_name': '', 'operator_name': '商务A', 'id': 38890}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7525 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 7525, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.299253 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47895229, 'ref_id': 14127, 'task_id': 47902274, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Method : POST
  Payload : '{"task_id": 47902274, "ref_id": 14127}'
-----------------------------------------------
【性能】请求花费时间 3.223637 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
[Verify - Begin] 【支付申请单】整单状态校验开始
[Verify - Done] 【支付申请单】整单状态校验结束
[Verify - Begin] 【支付申请单】支付状态校验开始
[Verify - Done] 【支付申请单】支付状态校验结束
[Verify - Begin] 支付申请单金额 1.金额
[Verify - Done] 支付申请单金额 Done


        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr id='pt1.3' class='hiddenRow'>
    <td class='none'><div class='testcase'>test_pay_order_approval_3: 返点体现支付申请单的审批流，收款方名称与返点流水客户名称不一致        <br> 校验        <br> 1. 申请单状态为 审批通过        <br> 2. 申请单的支付状态为 未支付        <br> 3. 通用信息校验，申请金额</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.3')" >
        pass</a>

    <div id='div_pt1.3' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_pt1.3').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
pt1.3: 
  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
 准备一个 审批通过的  返点开票。。。。

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
增加一笔返点在当前返点开票上。。。。


--------------------------------------------------------------------------
-----准备造数据 ：盖章，回收当前 的返点 -------
------------------------------------------------------------------------------


--------------------------------------------------------------------------
-----准备造数据 ：消管生成一个  已结算的返点 -------
------------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'channelsalesmanage_B' 信息如下 -----------------
ID: 100336; Name: 渠道销管B; Boss_ID: 100334; Boss_name: 渠道销管leader; Area: u'渠道一部'
  @@@@@@@@@@@@@@@@@@@@@@   
 
【MOCK-UP】生成返点新建所需要的 payload 信息。。。
              [INFO]没有提供具体的代理商/客户ID， 那么接下来随机db里面找一个可用代理商
      【INFO】随机找到一个审批通过的客户，ID为
              [INFO]agent_id ： 44980585
              [INFO]使用传入的返点金额 ： 93257.02
              [INFO]随机生成的返点类型是types：二返
              [INFO]使用传入的返点使用类型
              [INFO]有3种返点使用方式，分别为：1,2,3 - 现金,返点抵扣,充值到AD
              [INFO]返点结算年为：2020
              [INFO]返点结算月份/季度为：6月
    [INFO]DB里面，用sales id = '100322', 随机找到一个审批通过之后状态的 合同 。。。
    [INFO]DB 拿到的contract_serial ： TJJR2019051608431
    [INFO]随机生成的 日期： 2019-11-15
[INFO] 随机增加返点部分的 金额相关词case
 ----------------------------------
 ------打印 返点新建详情----------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
          cur_no_net_no_bid_income  :  93.54 
         cur_no_join_no_bid_income  :  40.43 
    video_material_bid_reward_ratio  :  0.62 
    no_special_industry_bid_income  :  77 
                              year  :  2020 
          timely_paid_reward_ratio  :  0.36 
        special_industry_bid_ratio  :  0.65 
            cur_no_join_bid_income  :  55 
             cur_no_join_bid_ratio  :  0.79 
    quarter_assessment_rebate_amount  :  35.81 
     no_special_industry_bid_ratio  :  0.37 
                         area_type  :  12 
                non_bidding_income  :  71.83 
    video_material_bid_reward_income  :  100 
                      leading_area  :  1 
             cur_no_net_bid_income  :  7 
                              type  :  2 
               channel_salesman_id  :  100322 
           cur_no_net_no_bid_ratio  :  0.17 
             supplement_con_serial  :  CON10000000 
                         sales_ids  :  100322 
    video_material_no_bid_reward_income  :  72 
                     month_quarter  :  6 
                          standard  :  1 
                       brand_ratio  :  0.12 
                          agent_id  :  44980585 
                    cur_join_ratio  :  0.01 
               luban_reward_income  :  92.8 
               submit_approve_date  :  2019-11-15 
                 cur_net_bid_ratio  :  0.2 
          cur_no_join_no_bid_ratio  :  0.42 
              cur_net_no_bid_ratio  :  0.1 
                         use_types  :  1,2,3 
                luban_reward_ratio  :  0.32 
                     illegal_money  :  75.03 
                cur_net_bid_income  :  32 
                            amount  :  93257.02 
                   contract_serial  :  TJJR2019051608431 
                   current_mission  :  41 
----------------------------------------------------


 ---------保存审批-------------------------
 【INFo】如果不需要 代理商审批，直接提交！

【@KEY STEP@】--- 通过API 保存/新建,提交审批一条返点结算
              [INFO]提交审批
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100336', 'login_employee_id': '100336'}
  Method : POST
  Payload : '{"cur_no_net_no_bid_income": 93.54, "cur_no_join_no_bid_income": 40.43, "video_material_bid_reward_ratio": 0.62, "no_special_industry_bid_income": 77, "year": 2020, "timely_paid_reward_ratio": 0.36, "special_industry_bid_ratio": 0.65, "cur_no_join_bid_income": 55, "cur_no_join_bid_ratio": 0.79, "quarter_assessment_rebate_amount": 35.81, "no_special_industry_bid_ratio": 0.37, "area_type": 12, "non_bidding_income": 71.83, "video_material_bid_reward_income": 100, "leading_area": 1, "cur_no_net_bid_income": 7, "type": 2, "submit_approval": true, "channel_salesman_id": "100322", "cur_no_net_no_bid_ratio": 0.17, "supplement_con_serial": "CON10000000", "sales_ids": "100322", "video_material_no_bid_reward_income": 72, "month_quarter": 6, "standard": 1, "brand_ratio": 0.12, "agent_id": 44980585, "cur_join_ratio": 0.01, "luban_reward_income": 92.8, "submit_approve_date": "2019-11-15", "cur_net_bid_ratio": 0.2, "cur_no_join_no_bid_ratio": 0.42, "cur_net_no_bid_ratio": 0.1, "use_types": "1,2,3", "luban_reward_ratio": 0.32, "illegal_money": 75.03, "cur_net_bid_income": 32, "amount": 93257.02, "contract_serial": "TJJR2019051608431", "current_mission": 41}'
-----------------------------------------------
【性能】请求花费时间 1.775184 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '保存成功', 'code': 1, 'data': {'rebate_balance_id': 133128724, 'rebate_balance_serial': 'FD133128724'}}
------------------------------------------------------------------------
[INFO]DB里面，通过serial -TJJR2019051608431，获取id 。。。
[INFO]DB 拿到的 contract id ： 6691535981549454088
-------------已提交审批，rebate_balance_id 为 133128724

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  2 - 审批中待结算  
                       StampStatus  :  1 - 未盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  TJJR2019051608431 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  1 - 未回收  
                            Amount  :  9325.0 
                            Serial  :  FD133128724 
                           AgentID  :  44980585 
                                ID  :  133128724 
                             Types  :  2 - 二返  
----------------------------------------------------

 ------------------------------------------------------------

----------审批中，走审批流---------------------------


-------------------------------
【INFO】返点审批流 财务核算
-------------------------------
approval_list审批流为['finance_account_A']
审批人：finance_account_A
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_account_A' 信息如下 -----------------
ID: 100364; Name: finance-A; Boss_ID: None; Boss_name: None; Area: u'核算组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 获取下一个 待审批人列表

【@KEY STEP@】--- 通过API 审批通过 结算单/或返点， entity_id=133128724， entity_type : 8 - rebate
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/log_list
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 133128724, 'entity_type': 8}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.064974 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': {'total': 1, 'list': [{'comment': '', 'entity_id': None, 'result': 5, 'approver_id': '1806,100356,100363,100364,100365,100366,1102771,1128722,1168921,1271797,1285632,1393610,1553567,1602508,2057512,2369107,2720176,2923026,3289606,3299115,3703672,3725361,3815870,3902625,5060758,5081990,5153893,5207100,5616263,5817132,6003520,6357583,7103308,7199767,7206065,7535702,7780057,7883021,7922808,7995555,8002517,8793781,8976986,9055612,9878229,9903339', 'approver_name': '杨丹,财务BP-B,财务核算leader,finance-A,财务核算-B,财务核算-C,仇衍铭,黄玲,张文博,廖亮,李明华,张一凡,李硕德,顾见颀,章利,田金杰,兰雁,李瑶,郑小冰,刘玉娟,王安龙,李雪,陈智,刘雷,马晓策,陈子健,安慧芳,张剑,李晶晶,周黎,杜现芳,夏春阳,吴得瑀,吴昊,于宾,孙娇娇,贾珊,石红霞,孙伟,周立文,郭继春,董学军,郑珊,王德宸,高玉婷,李静静', 'informed_names': None, 'create_time': '', 'approval_department': '财务', 'result_name': '待审批', 'file_names': None, 'approval_record_id': 1}]}}
------------------------------------------------------------------------

【@KEY STEP@】--- 通过API 审批通过 返点， rebate_balance_id=133128724

【@KEY STEP@】--- 通过API 获取一个返点， id=133128724
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/detail
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'rebate_balance_id': 133128724}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.085595 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '获取详情成功', 'code': 1, 'data': {'display_template_area': 1, 'agent_name': '1026忙不完呀', 'area_type_name': '自主电商', 'use_amount': '0.00', 'use_status_name': '未使用', 'archive_locker_no': '', 'rebate_balance_id': 133128724, 'agent_type_name': '游戏', 'archive_status_name': '未回收', 'leading_area_name': '华北', 'rebate_balance_serial': 'FD133128724', 'use_status': 1, 'stamp_status': 1, 'create_time': '2019-11-15 18:36:38', 'year': 2020, 'remain_amount': '0.00', 'archive_box_no': '', 'archive_num': 0, 'archive_time': '', 'channel_salesman_name': 'channel client sales_A', 'contract_subject_name': '天津今日头条科技有限公司', 'type_name': '二返', 'sales_names': 'channel client sales_A', 'area_type': 12, 'month_quarter_name': '6月', 'contract_subject_id': 27, 'agent_type': 254, 'stamp_status_name': '未盖章', 'approval_time': '2019-11-15', 'agent_category_name': '', 'type': 2, 'agent_approval_name': None, 'category': 6, 'agent_approval_time': None, 'channel_salesman_id': 100322, 'operate_time': None, 'stamp_type_name': '线下盖章', 'supplement_con_serial': 'CON10000000', 'stamp_stap_id': None, 'archive_status': 1, 'sales_ids': [100322], 'submit_approve_date': '2019-11-15', 'remark': '', 'month_quarter': 6, 'standard': '1', 'process_id': 47904365, 'agent_id': 44980585, 'step_id': None, 'leading_area': 1, 'category_name': '合作方', 'status': 2, 'rebate_id': 0, 'use_types': [1, 2, 3], 'task_id': 47904726, 'status_name': '审批中', 'agent_category': 0, 'standard_name': '标准', 'amount': '93257.02', 'frozen_amount': '0.00', 'contract_serial': 'TJJR2019051608431', 'standard_serial': '', 'stamp_type': 2, 'use_type_names': ['现金', '返点抵扣', '充值到AD']}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Method : POST
  Payload : '{"entity_id": "133128724", "process_id": 47904365, "task_id": 47904726}'
-----------------------------------------------
【性能】请求花费时间 2.685521 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  3 - 已结算  
                       StampStatus  :  1 - 未盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  TJJR2019051608431 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  1 - 未回收  
                            Amount  :  9325.0 
                            Serial  :  FD133128724 
                           AgentID  :  44980585 
                                ID  :  133128724 
                             Types  :  2 - 二返  
----------------------------------------------------

 ------------------------------------------------------------
-----数据准备完毕------------------------------------------------




  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 盖章申请 一条返点, id ： 133128724
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/stamp_request
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128724, "party_a_num": 1, "stamp_order": 1, "party_b_num": 1}'
-----------------------------------------------
【性能】请求花费时间 3.007186 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '申请成功', 'code': 1}
------------------------------------------------------------------------
[审批流]获取 结算单盖章审批流...
[INFO]当前期望审批人列表为... 
      --&gt;  100357-合同专员-contractops
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'contractops' 信息如下 -----------------
ID: 100357; Name: 合同专员; Boss_ID: None; Boss_name: None; Area: u'财务合同组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 盖章通过 返点， rebate_balance_id=133128724

【@KEY STEP@】--- 通过API 获取一个返点， id=133128724
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/detail
  Cookies : {'fake_employee_id': '100357', 'login_employee_id': '100357'}
  Parameters : {'rebate_balance_id': 133128724}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.055731 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '获取详情成功', 'code': 1, 'data': {'display_template_area': 1, 'agent_name': '1026忙不完呀', 'area_type_name': '自主电商', 'use_amount': '0.00', 'use_status_name': '未使用', 'archive_locker_no': '', 'rebate_balance_id': 133128724, 'agent_type_name': '游戏', 'archive_status_name': '未回收', 'leading_area_name': '华北', 'rebate_balance_serial': 'FD133128724', 'use_status': 1, 'stamp_status': 2, 'create_time': '2019-11-15 18:36:38', 'year': 2020, 'remain_amount': '0.00', 'archive_box_no': '', 'archive_num': 0, 'archive_time': '', 'channel_salesman_name': 'channel client sales_A', 'contract_subject_name': '天津今日头条科技有限公司', 'type_name': '二返', 'sales_names': 'channel client sales_A', 'area_type': 12, 'month_quarter_name': '6月', 'contract_subject_id': 27, 'agent_type': 254, 'stamp_status_name': '审批中', 'approval_time': '2019-11-15', 'agent_category_name': '', 'type': 2, 'agent_approval_name': None, 'category': 6, 'agent_approval_time': None, 'channel_salesman_id': 100322, 'operate_time': None, 'stamp_type_name': '线下盖章', 'supplement_con_serial': 'CON10000000', 'stamp_stap_id': None, 'archive_status': 1, 'sales_ids': [100322], 'submit_approve_date': '2019-11-15', 'remark': '', 'month_quarter': 6, 'standard': '1', 'process_id': 47907220, 'agent_id': 44980585, 'step_id': None, 'leading_area': 1, 'category_name': '合作方', 'status': 3, 'rebate_id': 0, 'use_types': [1, 2, 3], 'task_id': 47908215, 'status_name': '审批通过', 'agent_category': 0, 'standard_name': '标准', 'amount': '93257.02', 'frozen_amount': '0.00', 'contract_serial': 'TJJR2019051608431', 'standard_serial': '', 'stamp_type': 2, 'use_type_names': ['现金', '返点抵扣', '充值到AD']}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100357', 'login_employee_id': '100357'}
  Method : POST
  Payload : '{"entity_id": "133128724", "process_id": 47907220, "task_id": 47908215}'
-----------------------------------------------
【性能】请求花费时间 0.773907 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 回收 一条返点结算，id：133128724
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/retrieve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128724}'
-----------------------------------------------
【性能】请求花费时间 0.036914 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '回收成功', 'code': 1}
------------------------------------------------------------------------

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  3 - 已结算  
                       StampStatus  :  3 - 已盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  TJJR2019051608431 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  2 - 已回收  
                            Amount  :  9325.0 
                            Serial  :  FD133128724 
                           AgentID  :  44980585 
                                ID  :  133128724 
                             Types  :  2 - 二返  
----------------------------------------------------

 ------------------------------------------------------------
-----数据准备完毕------------------------------------------------




  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 创建一个 返点 开票 对象，contract_id :'6691535981549454088'  。。。
当前开票platform  3-返点开票

【@KEY STEP@】---- 创建一个 开票 对象''  。。。
  用当前传入的contract_id 覆盖 6691535981549454088
---打印当前 创建payload ----
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                          platform  :  0 
                       contract_id  :  6691535981549454088 
                    invoice_object  :  3 
----------------------------------------------------

None
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/create
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"platform": 0, "contract_id": 6691535981549454088, "invoice_object": 3}'
-----------------------------------------------
【性能】请求花费时间 0.123273 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128111}
------------------------------------------------------------------------

【@KEY STEP@】---- 给当前发票id = '133128111' 增加返点 rebate_id=133128724  。。。

【@KEY STEP@】---- 给当前发票id = '133128111' 绑定实体  。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/bind
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128111, "bind_records": "[{\"amount\": 93257.02, \"id\": 133128724}]"}'
-----------------------------------------------
【性能】请求花费时间 0.071752 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128111}
------------------------------------------------------------------------
【MOCK-UP】生成 更新 通用 - 开票 所需要的 payload 信息。。。
              [INFO]随机生成的名称： Auto-名字1573814211
              [INFO]随机生成的名称： Auto-名字1573814211
              [INFO]随机生成的名称： Auto-名字1573814211
              [INFO]随机生成的名称： Auto-名字1573814211
              [INFO]使用随机生成的email ：  auto.mail.8738739@bytedance.com
    [INFO]DB 随机找到的签约主体是  ： 49 - 今日头条（厦门）科技有限公司 
----------------------------------------------------
【Print】printing mocked data in lines。。。
                          tax_no  :  13406256904 
             contract_subject_id  :  49 
                  customer_email  :  auto.mail.8738739@bytedance.com 
           customer_subject_name  :  开票公司名-Auto-名字15738142116六要素 
              unprintable_remark  :  auto_非打印备注-22571301419118 
                    invoice_type  :  2 
                          remark  :  auto_remark-46487038891512 
                  customer_phone  :  13403580174 
             customer_sms_phones  :  ['13405210762'] 
                  region_last_id  :  3 
                customer_address  :  Auto-名字1573814211地址-6六要素 
                 contact_address  :  Auto-名字1573814211地址-接收信息 
                         contact  :  渠道销售A 
                            bank  :  Auto-名字1573814211银行-6六要素 
                   contact_phone  :  13404506254 
                      region_ids  :  [1, 2, 3] 
                    bank_account  :  52108734005605 
----------------------------------------------------


【@KEY STEP@】---- 保存 更新六要素 实体 id：133128111 。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"tax_no": "13406256904", "contract_subject_id": 49, "customer_email": "auto.mail.8738739@bytedance.com", "customer_subject_name": "\u5f00\u7968\u516c\u53f8\u540d-Auto-\u540d\u5b5715738142116\u516d\u8981\u7d20", "unprintable_remark": "auto_\u975e\u6253\u5370\u5907\u6ce8-22571301419118", "invoice_type": 2, "remark": "auto_remark-46487038891512", "customer_phone": "13403580174", "customer_sms_phones": ["13405210762"], "region_last_id": 3, "customer_address": "Auto-\u540d\u5b571573814211\u5730\u5740-6\u516d\u8981\u7d20", "contact_address": "Auto-\u540d\u5b571573814211\u5730\u5740-\u63a5\u6536\u4fe1\u606f", "contact": "\u6e20\u9053\u9500\u552eA", "bank": "Auto-\u540d\u5b571573814211\u94f6\u884c-6\u516d\u8981\u7d20", "invoice_id": 133128111, "contact_phone": "13404506254", "region_ids": [1, 2, 3], "bank_account": 52108734005605}'
-----------------------------------------------
【性能】请求花费时间 0.068385 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128111}
------------------------------------------------------------------------
[KEY info] 当前为返点开票，必须是 负数，差额！！！！
[KEY info] 当前开票项目金额为： -93257.02
增加一个开票项目，在当前返点开票上。。。
【MOCK-UP】生成 开票 所需要的 项目的信息。。。
 [KEY]生成 所有项目数量为： 6
[INFO]如果当前是差额开票，amount，应该为负数， 需要反转生成
【KEY】当前是差额开票，需要反转project amount 为负数！
[INFO]打印当前项目生成list
[{'invoice_project_amount': -68603.13, 'invoice_project_id': '33'}, {'invoice_project_amount': -7609.57, 'invoice_project_id': '8'}, {'invoice_project_amount': -6138.36, 'invoice_project_id': '1'}, {'invoice_project_amount': -4775.68, 'invoice_project_id': '6'}, {'invoice_project_amount': -38.65, 'invoice_project_id': '5'}, {'invoice_project_amount': -6091.63, 'invoice_project_id': '2'}]

【@KEY STEP@】---- 对开票 id ： '133128111'，增加开票项目信息【通用】  。。。
 增加开票字段。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/invoice_detail/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128111, "invoice_details": "[{\"invoice_project_amount\": -68603.13, \"invoice_project_id\": \"33\"}, {\"invoice_project_amount\": -7609.57, \"invoice_project_id\": \"8\"}, {\"invoice_project_amount\": -6138.36, \"invoice_project_id\": \"1\"}, {\"invoice_project_amount\": -4775.68, \"invoice_project_id\": \"6\"}, {\"invoice_project_amount\": -38.65, \"invoice_project_id\": \"5\"}, {\"invoice_project_amount\": -6091.63, \"invoice_project_id\": \"2\"}]"}'
-----------------------------------------------
【性能】请求花费时间 0.102996 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '新增成功', 'code': 1, 'data': 26639}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 提交返点实体 id： 。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/submit
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128111}'
-----------------------------------------------
【性能】请求花费时间 2.653029 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------


【审批流】AD账号的票，开票审批 - 审批流： 
[INFO]当前审批流 的期望审批人列表为 
      --&gt;  100316-财务开票专员-finance_invoice_BP
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_invoice_BP' 信息如下 -----------------
ID: 100316; Name: 财务开票专员; Boss_ID: None; Boss_name: None; Area: u'财务BP组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 对开票 ：id - '133128111'审批通过  。。。
 [KEY STEP] 先detail 获取process and task id

【@KEY STEP@】---- get 开票 detail ：id '133128111'，  。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/detail
  Cookies : {'fake_employee_id': '100316', 'login_employee_id': '100316'}
  Parameters : {'invoice_id': 133128111}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.116706 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': {'invoice_detail_status_name': '未开票', 'revert_amount': '0.000000', 'actual_invoice_amount': '0.000000', 'statement_id': 0, 'diff_amount': '-93257.02', 'org_revert_status': None, 'submit_time': '2019-11-15 18:36:54', 'unprintable_remark': 'auto_非打印备注-22571301419118', 'qualification_changed_name': None, 'invoice_object': 3, 'send_status_name': None, 'org_invoice_id': None, 'contact_address': None, 'create_time': '2019-11-15 18:36:51', 'source_name': 'STA', 'customer_subject_name': '开票公司名-Auto-名字15738142116六要素', 'is_revert_name': '否', 'customer_name': '今日头条-品牌广告PM-测试账号-2', 'relate_status_name': None, 'submitter_name': '商务A', 'tax_no': '13406256904', 'contract_id': '6691535981549454088', 'invoice_status_name': None, 'source': 2, 'revert_amount_remain': '0.000000', 'relate_amount': None, 'contract_subject_name': '今日头条（厦门）科技有限公司', 'status_name': '审批中', 'revert_frozen_amount': '0.000000', 'invoice_amount': '-93257.02', 'platform': 0, 'contract_subject_id': 49, 'bank_account': '52108734005605', 'difference_invoice_name': '全额开票', 'send_status': None, 'customer_id': 44972766, 'contact_phone': None, 'invoiced_time': None, 'process_id': 47909820, 'customer_email': 'auto.mail.8738739@bytedance.com', 'assign_type_name': None, 'assign_type': None, 'task_id': 47910575, 'relate_amount_remain': None, 'invoice_type': 2, 'customer_phone': '13403580174', 'customer_address': 'Auto-名字1573814211地址-6六要素', 'change_status_name': None, 'org_revert_status_name': None, 'qualification_status_name': None, 'change_status': None, 'invoice_object_name': '返点结算开票', 'revert_status_name': '未红冲', 'bank': 'Auto-名字1573814211银行-6六要素', 'invoice_detail_status': 1, 'invoice_serial': 'INV133128111', 'remark': 'auto_remark-46487038891512', 'org_invoice_serial': None, 'invoice_status': None, 'default_invoice_project_name': None, 'creator_name': '商务A', 'difference_invoice': 0, 'submitter_id': 100339, 'invoice_id': 133128111, 'express_number': None, 'express_company': None, 'customer_sms_phones': None, 'abandoned_amount': '0.00', 'platform_name': '广告平台', 'creator_id': 100339, 'contact': '', 'status': 2, 'relate_status': None, 'contract_serial': 'TJJR2019051608431', 'invoice_type_name': '增值税专用发票', 'qualification_status': None, 'revert_status': 1, 'default_invoice_project_id': None, 'invoice_nos': None, 'qualification_changed': None}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100316', 'login_employee_id': '100316'}
  Method : POST
  Payload : '{"comment": " \u968f\u4fbf \u901a\u8fc7\uff0c\u4e0d\u4e3b\u52a8\u4e0d\u62d2\u7edd\u4e0d\u8d1f\u8d23", "process_id": 47909820, "task_id": 47910575}'
-----------------------------------------------
【性能】请求花费时间 4.060559 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
----------------------------------------------------
    ---- 打印当前开票信息： 类型 ：返点
----------------------------------------------------
    ---- 开票ID ：133128111
    ---- 开票Serial ：INV133128111
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                        rebate_obj  :  {'contract_id': '6691535981549454088', 'rebate_balance_id': 133128724, 'rebate_amount': 93257.02, 'rebate_balance_serial': 'FD133128724', 'agent_id': 44980585, 'approval_list': ['finance_account_A'], 'payload': {'cur_no_net_no_bid_income': 93.54, 'cur_no_join_no_bid_income': 40.43, 'video_material_bid_reward_ratio': 0.62, 'no_special_industry_bid_income': 77, 'year': 2020, 'timely_paid_reward_ratio': 0.36, 'special_industry_bid_ratio': 0.65, 'cur_no_join_bid_income': 55, 'cur_no_join_bid_ratio': 0.79, 'quarter_assessment_rebate_amount': 35.81, 'no_special_industry_bid_ratio': 0.37, 'area_type': 12, 'non_bidding_income': 71.83, 'video_material_bid_reward_income': 100, 'leading_area': 1, 'cur_no_net_bid_income': 7, 'type': 2, 'submit_approval': True, 'channel_salesman_id': '100322', 'cur_no_net_no_bid_ratio': 0.17, 'supplement_con_serial': 'CON10000000', 'sales_ids': '100322', 'video_material_no_bid_reward_income': 72, 'month_quarter': 6, 'standard': 1, 'brand_ratio': 0.12, 'agent_id': 44980585, 'cur_join_ratio': 0.01, 'luban_reward_income': 92.8, 'submit_approve_date': '2019-11-15', 'cur_net_bid_ratio': 0.2, 'cur_no_join_no_bid_ratio': 0.42, 'cur_net_no_bid_ratio': 0.1, 'use_types': '1,2,3', 'luban_reward_ratio': 0.32, 'illegal_money': 75.03, 'cur_net_bid_income': 32, 'amount': 93257.02, 'contract_serial': u'TJJR2019051608431', 'current_mission': 41}} 
                      project_list  :  [{'invoice_project_amount': -68603.13, 'invoice_project_id': '33'}, {'invoice_project_amount': -7609.57, 'invoice_project_id': '8'}, {'invoice_project_amount': -6138.36, 'invoice_project_id': '1'}, {'invoice_project_amount': -4775.68, 'invoice_project_id': '6'}, {'invoice_project_amount': -38.65, 'invoice_project_id': '5'}, {'invoice_project_amount': -6091.63, 'invoice_project_id': '2'}] 
                       contract_id  :  6691535981549454088 
                    common_payload  :  {'tax_no': '13406256904', 'contract_subject_id': 49, 'customer_email': 'auto.mail.8738739@bytedance.com', 'customer_subject_name': u'\u5f00\u7968\u516c\u53f8\u540d-Auto-\u540d\u5b5715738142116\u516d\u8981\u7d20', 'unprintable_remark': u'auto_\u975e\u6253\u5370\u5907\u6ce8-22571301419118', 'invoice_type': 2, 'remark': 'auto_remark-46487038891512', 'customer_phone': '13403580174', 'customer_sms_phones': ['13405210762'], 'region_last_id': 3, 'customer_address': u'Auto-\u540d\u5b571573814211\u5730\u5740-6\u516d\u8981\u7d20', 'contact_address': u'Auto-\u540d\u5b571573814211\u5730\u5740-\u63a5\u6536\u4fe1\u606f', 'contact': u'\u6e20\u9053\u9500\u552eA', 'bank': u'Auto-\u540d\u5b571573814211\u94f6\u884c-6\u516d\u8981\u7d20', 'invoice_id': 133128111, 'contact_phone': '13404506254', 'region_ids': [1, 2, 3], 'bank_account': 52108734005605} 
                        invoice_id  :  133128111 
                         rebate_id  :  133128724 
                    invoice_serial  :  INV133128111 
                     rebate_serial  :  FD133128724 
----------------------------------------------------

----------------------------------------------------


[PAYLOAD-Prepare]准备返点支付单创建所需要的数据！！

【INF】没有提供apply_amount，默认输入返点所有amount
打印当前的 返点信息list :
[{'amount': 93257.02, 'id': 133128724}]

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】API 创建返点 支付申请单！
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/pay_order/add_rebate
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"pay_category": 1, "biz_type": 0, "biz_line": 0, "rebates": "[{\"amount\": 93257.02, \"id\": 133128724}]"}'
-----------------------------------------------
【性能】请求花费时间 2.317656 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'pay_order_id': 7533}}
------------------------------------------------------------------------

【@KEY STEP@】API 更新当前 支付申请单 银行信息 id = 7533
[INFO] 获取银行相关信息, 关键字 ：招商银行股份有限公司福州分行营业部
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/main_data/bank/keyword
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Parameters : {'key_word': u'招商银行股份有限公司福州分行营业部'}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.622994 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': [{'bank_name': '招商银行股份有限公司福州分行营业部', 'bank_no': '308391026028', 'bank_code': 'MDBK00063026'}]}
------------------------------------------------------------------------
    [INFO]随机生成的 日期： 2020-01-13
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                         bank_name  :  招商银行股份有限公司福州分行营业部 
                         bank_code  :  MDBK00063026 
                 bank_account_name  :  auto账号-41090398903267 
                   bank_account_no  :  77336765044282 
                      pay_order_id  :  7533 
                   latest_pay_date  :  2020-01-13 
                           bank_no  :  308391026028 
----------------------------------------------------


【@KEY STEP@】API 增加银行信息到当前支付单！支付单ID： 7533
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/pay_order/update_receiver
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"bank_name": "\u62db\u5546\u94f6\u884c\u80a1\u4efd\u6709\u9650\u516c\u53f8\u798f\u5dde\u5206\u884c\u8425\u4e1a\u90e8", "bank_code": "MDBK00063026", "bank_account_name": "auto\u8d26\u53f7-41090398903267", "bank_account_no": "77336765044282", "pay_order_id": 7533, "latest_pay_date": "2020-01-13", "bank_no": "308391026028"}'
-----------------------------------------------
【性能】请求花费时间 3.524475 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '更新成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
              [INFO]使用随机生成的长传数字 ：  8632
[INFO] 为支付申请单添加附件！支付单ID： None
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/attachment/upload
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"file_list": [{"file_name": "761f12b79a5fac36422f9f45510b601b.docx", "origin_file_name": "3M\u7ed3\u7b97\u5355-\u5b57\u8282\u5c0f\u7a0b\u5e8f\u5e7f\u544a_V2.0-\u5355\u7ae0 (1) (1) (1) (1).docx"}], "entity_id": 7533, "entity_type": 1}'
-----------------------------------------------
【性能】请求花费时间 0.493803 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'ids': [1064]}}
------------------------------------------------------------------------

【@KEY STEP@】API 提交审批当前 支付申请单！！支付单ID： 7533
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/submit
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"entity_id": "7533", "pay_order_id": "7533", "entity_type": 1}'
-----------------------------------------------
【性能】请求花费时间 5.705751 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '提交成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
auto8632 1026忙不完呀


【审批流】返点 支付申请单，amount 金额为 93257.020000 
期望审批流是 ['businessBP_sepcial', 'finance_account_A']
[INFO]当前 100339-商务A-business_A 的期望审批人列表为 
      --&gt;  100342-商务BP-特别-businessBP_sepcial
            --&gt;  100364-finance-A-finance_account_A
[审批流] 对于支付申请 id ：7533, 逐级审批通过

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'businessBP_sepcial' 信息如下 -----------------
ID: 100342; Name: 商务BP-特别; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'网服三部', u'网服一部', u'网服二部']
  @@@@@@@@@@@@@@@@@@@@@@   
 
100342-商务BP-特别-businessBP_sepcial
[审批流]确保当前登录人 ： 100342-商务BP-特别-businessBP_sepcial， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7533
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Parameters : {'entity_id': 7533, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.822541 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 1, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100342, 1039686, 1102771, 1393610, 1553567, 1738665, 1793273, 2016672, 2200195, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '商务专员', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Tao Shi', 'employee_id': 2200195, 'leader_id': 2221979, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '石涛', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'shitao.tobias@bytedance.com', 'department_id': 100725}, {'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100342, 'leader_id': 100338, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '商务BP-特别', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'businessBP_special@cgtest.com', 'department_id': 111114478}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:37:11', 'task_name': '', 'operator_name': '商务A', 'id': 38948}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7533 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Parameters : {'entity_id': 7533, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.781639 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47912985, 'ref_id': 14146, 'task_id': 47914292, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Method : POST
  Payload : '{"task_id": 47914292, "ref_id": 14146}'
-----------------------------------------------
【性能】请求花费时间 4.171092 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_account_A' 信息如下 -----------------
ID: 100364; Name: finance-A; Boss_ID: None; Boss_name: None; Area: u'核算组'
  @@@@@@@@@@@@@@@@@@@@@@   
 
100364-finance-A-finance_account_A
[审批流]确保当前登录人 ： 100364-finance-A-finance_account_A， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7533
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 7533, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.668671 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 2, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100364, 100365, 100366, 1039686, 1102771, 1393610, 1553567, 1738665, 1793273, 2016672, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5153893, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '财务核算初审', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100364, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': 'finance-A', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_A@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100365, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '财务核算-B', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_B@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100366, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '财务核算-C', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_C@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Huifang An', 'employee_id': 5153893, 'leader_id': 7780057, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '安慧芳', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-08-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'anhuifang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100342, 'approval_result_name': '审批通过', 'create_time': '2019-11-15 10:37:18', 'task_name': '商务专员', 'operator_name': '商务BP-特别', 'id': 38956}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:37:11', 'task_name': '', 'operator_name': '商务A', 'id': 38948}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7533 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 7533, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.284128 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47912985, 'ref_id': 14146, 'task_id': 47916915, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Method : POST
  Payload : '{"task_id": 47916915, "ref_id": 14146}'
-----------------------------------------------
【性能】请求花费时间 3.643406 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
[Verify - Begin] 【支付申请单】整单状态校验开始
[Verify - Done] 【支付申请单】整单状态校验结束
[Verify - Begin] 支付申请单金额 1.金额
[Verify - Done] 支付申请单金额 Done


        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr id='pt1.4' class='hiddenRow'>
    <td class='none'><div class='testcase'>test_pay_order_approval_4: 返点体现支付申请单的审批流，收款方名称与返点流水客户名称不一致        <br> 校验        <br> 1. 申请单状态为 审批通过        <br> 2. 申请单的支付状态为 未支付        <br> 3. 通用信息校验，申请金额</div></td>
    <td colspan='5' align='center'>

    <!--css div popup start-->
    <a class="popup_link" onfocus='this.blur();' href="javascript:showTestDetail('div_pt1.4')" >
        pass</a>

    <div id='div_pt1.4' class="popup_window">
        <div style='text-align: right; color:red;cursor:pointer'>
        <a onfocus='this.blur();' onclick="document.getElementById('div_pt1.4').style.display = 'none' " >
           [x]</a>
        </div>
        <pre>
        
pt1.4: 
  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
 准备一个 审批通过的  返点开票。。。。

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
增加一笔返点在当前返点开票上。。。。


--------------------------------------------------------------------------
-----准备造数据 ：盖章，回收当前 的返点 -------
------------------------------------------------------------------------------


--------------------------------------------------------------------------
-----准备造数据 ：消管生成一个  已结算的返点 -------
------------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'channelsalesmanage_B' 信息如下 -----------------
ID: 100336; Name: 渠道销管B; Boss_ID: 100334; Boss_name: 渠道销管leader; Area: u'渠道一部'
  @@@@@@@@@@@@@@@@@@@@@@   
 
【MOCK-UP】生成返点新建所需要的 payload 信息。。。
              [INFO]没有提供具体的代理商/客户ID， 那么接下来随机db里面找一个可用代理商
      【INFO】随机找到一个审批通过的客户，ID为
              [INFO]agent_id ： 54975739
              [INFO]使用传入的返点金额 ： 535616.97
              [INFO]随机生成的返点类型是types：三返
              [INFO]使用传入的返点使用类型
              [INFO]有3种返点使用方式，分别为：1,2,3 - 现金,返点抵扣,充值到AD
              [INFO]返点结算年为：2020
              [INFO]返点结算月份/季度为：3月
    [INFO]DB里面，用sales id = '100322', 随机找到一个审批通过之后状态的 合同 。。。
    [INFO]DB 拿到的contract_serial ： TJJR2019110800026
    [INFO]随机生成的 日期： 2019-11-15
[INFO] 随机增加返点部分的 金额相关词case
 ----------------------------------
 ------打印 返点新建详情----------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
          cur_no_net_no_bid_income  :  60.59 
         cur_no_join_no_bid_income  :  75.34 
    no_special_industry_bid_income  :  48.06 
                        reset_cost  :  21 
             cur_net_no_bid_income  :  100 
                   cur_join_income  :  1.62 
                              year  :  2020 
        special_industry_bid_ratio  :  0.61 
            cur_no_join_bid_income  :  56 
         quarter_year_reward_ratio  :  0.67 
         timely_paid_reward_income  :  16 
                         area_type  :  11 
    video_material_no_bid_reward_ratio  :  0.66 
                non_bidding_income  :  30.29 
                         bid_ratio  :  0.06 
    video_material_bid_reward_income  :  81.09 
                      leading_area  :  3 
                              type  :  3 
               channel_salesman_id  :  100388 
                 overdue_deduction  :  89.92 
             supplement_con_serial  :  CON10000000 
                         sales_ids  :  100388 
    video_material_no_bid_reward_income  :  90.04 
                     month_quarter  :  3 
                          standard  :  1 
                          agent_id  :  54975739 
               submit_approve_date  :  2019-11-15 
          cur_no_join_no_bid_ratio  :  0.57 
              cur_net_no_bid_ratio  :  0.59 
                         use_types  :  1,2,3 
                video_reward_ratio  :  0.37 
                luban_reward_ratio  :  0.31 
                            amount  :  535616.97 
                   contract_serial  :  TJJR2019110800026 
                       reset_ratio  :  0.05 
      video_platform_reward_income  :  69 
                   current_mission  :  1 
----------------------------------------------------


 ---------保存审批-------------------------
 【INFo】如果不需要 代理商审批，直接提交！

【@KEY STEP@】--- 通过API 保存/新建,提交审批一条返点结算
              [INFO]提交审批
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100336', 'login_employee_id': '100336'}
  Method : POST
  Payload : '{"cur_no_net_no_bid_income": 60.59, "cur_no_join_no_bid_income": 75.34, "no_special_industry_bid_income": 48.06, "reset_cost": 21, "cur_net_no_bid_income": 100, "cur_join_income": 1.62, "year": 2020, "special_industry_bid_ratio": 0.61, "cur_no_join_bid_income": 56, "quarter_year_reward_ratio": 0.67, "timely_paid_reward_income": 16, "area_type": 11, "video_material_no_bid_reward_ratio": 0.66, "non_bidding_income": 30.29, "bid_ratio": 0.06, "video_material_bid_reward_income": 81.09, "leading_area": 3, "type": 3, "submit_approval": true, "channel_salesman_id": "100388", "overdue_deduction": 89.92, "supplement_con_serial": "CON10000000", "sales_ids": "100388", "video_material_no_bid_reward_income": 90.04, "month_quarter": 3, "standard": 1, "agent_id": 54975739, "submit_approve_date": "2019-11-15", "cur_no_join_no_bid_ratio": 0.57, "cur_net_no_bid_ratio": 0.59, "use_types": "1,2,3", "video_reward_ratio": 0.37, "luban_reward_ratio": 0.31, "amount": 535616.97, "contract_serial": "TJJR2019110800026", "reset_ratio": 0.05, "video_platform_reward_income": 69, "current_mission": 1}'
-----------------------------------------------
【性能】请求花费时间 3.522416 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '保存成功', 'code': 1, 'data': {'rebate_balance_id': 133128725, 'rebate_balance_serial': 'FD133128725'}}
------------------------------------------------------------------------
[INFO]DB里面，通过serial -TJJR2019110800026，获取id 。。。
[INFO]DB 拿到的 contract id ： 6756862916055532301
-------------已提交审批，rebate_balance_id 为 133128725

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  2 - 审批中待结算  
                       StampStatus  :  1 - 未盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  TJJR2019110800026 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  1 - 未回收  
                            Amount  :  53561.0 
                            Serial  :  FD133128725 
                           AgentID  :  54975739 
                                ID  :  133128725 
                             Types  :  3 - 三返  
----------------------------------------------------

 ------------------------------------------------------------

----------审批中，走审批流---------------------------


-------------------------------
【INFO】返点审批流 财务核算
-------------------------------
approval_list审批流为['finance_account_A']
审批人：finance_account_A
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_account_A' 信息如下 -----------------
ID: 100364; Name: finance-A; Boss_ID: None; Boss_name: None; Area: u'核算组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 获取下一个 待审批人列表

【@KEY STEP@】--- 通过API 审批通过 结算单/或返点， entity_id=133128725， entity_type : 8 - rebate
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/log_list
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 133128725, 'entity_type': 8}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.065137 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': {'total': 1, 'list': [{'comment': '', 'entity_id': None, 'result': 5, 'approver_id': '1806,100356,100363,100364,100365,100366,1102771,1128722,1168921,1271797,1285632,1393610,1553567,1602508,2057512,2369107,2720176,2923026,3289606,3299115,3703672,3725361,3815870,3902625,5060758,5081990,5153893,5207100,5616263,5817132,6003520,6357583,7103308,7199767,7206065,7535702,7780057,7883021,7922808,7995555,8002517,8793781,8976986,9055612,9878229,9903339', 'approver_name': '杨丹,财务BP-B,财务核算leader,finance-A,财务核算-B,财务核算-C,仇衍铭,黄玲,张文博,廖亮,李明华,张一凡,李硕德,顾见颀,章利,田金杰,兰雁,李瑶,郑小冰,刘玉娟,王安龙,李雪,陈智,刘雷,马晓策,陈子健,安慧芳,张剑,李晶晶,周黎,杜现芳,夏春阳,吴得瑀,吴昊,于宾,孙娇娇,贾珊,石红霞,孙伟,周立文,郭继春,董学军,郑珊,王德宸,高玉婷,李静静', 'informed_names': None, 'create_time': '', 'approval_department': '财务', 'result_name': '待审批', 'file_names': None, 'approval_record_id': 1}]}}
------------------------------------------------------------------------

【@KEY STEP@】--- 通过API 审批通过 返点， rebate_balance_id=133128725

【@KEY STEP@】--- 通过API 获取一个返点， id=133128725
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/detail
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'rebate_balance_id': 133128725}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.056346 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '获取详情成功', 'code': 1, 'data': {'display_template_area': 1, 'agent_name': 'Auto-独代渠道销售A-41063156272977246171-无限公司', 'area_type_name': '区域', 'use_amount': '0.00', 'use_status_name': '未使用', 'archive_locker_no': '', 'rebate_balance_id': 133128725, 'agent_type_name': '', 'archive_status_name': '未回收', 'leading_area_name': '华南', 'rebate_balance_serial': 'FD133128725', 'use_status': 1, 'stamp_status': 1, 'create_time': '2019-11-15 18:37:24', 'year': 2020, 'remain_amount': '0.00', 'archive_box_no': '', 'archive_num': 0, 'archive_time': '', 'channel_salesman_name': 'direct client sales_A', 'contract_subject_name': '天津今日头条科技有限公司', 'type_name': '三返', 'sales_names': 'direct client sales_A', 'area_type': 11, 'month_quarter_name': '3月', 'contract_subject_id': 2, 'agent_type': 28, 'stamp_status_name': '未盖章', 'approval_time': '2019-11-15', 'agent_category_name': '独代', 'type': 3, 'agent_approval_name': None, 'category': 2, 'agent_approval_time': None, 'channel_salesman_id': 100388, 'operate_time': None, 'stamp_type_name': '线下盖章', 'supplement_con_serial': 'CON10000000', 'stamp_stap_id': None, 'archive_status': 1, 'sales_ids': [100388], 'submit_approve_date': '2019-11-15', 'remark': '', 'month_quarter': 3, 'standard': '1', 'process_id': 47919685, 'agent_id': 54975739, 'step_id': None, 'leading_area': 3, 'category_name': '代理商', 'status': 2, 'rebate_id': 0, 'use_types': [1, 2, 3], 'task_id': 47920762, 'status_name': '审批中', 'agent_category': 1, 'standard_name': '标准', 'amount': '535616.97', 'frozen_amount': '0.00', 'contract_serial': 'TJJR2019110800026', 'standard_serial': '', 'stamp_type': 2, 'use_type_names': ['现金', '返点抵扣', '充值到AD']}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Method : POST
  Payload : '{"entity_id": "133128725", "process_id": 47919685, "task_id": 47920762}'
-----------------------------------------------
【性能】请求花费时间 0.714876 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  3 - 已结算  
                       StampStatus  :  1 - 未盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  TJJR2019110800026 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  1 - 未回收  
                            Amount  :  53561.0 
                            Serial  :  FD133128725 
                           AgentID  :  54975739 
                                ID  :  133128725 
                             Types  :  3 - 三返  
----------------------------------------------------

 ------------------------------------------------------------
-----数据准备完毕------------------------------------------------




  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 盖章申请 一条返点, id ： 133128725
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/stamp_request
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128725, "party_a_num": 2, "stamp_order": 1, "party_b_num": 1}'
-----------------------------------------------
【性能】请求花费时间 1.920887 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '申请成功', 'code': 1}
------------------------------------------------------------------------
[审批流]获取 结算单盖章审批流...
[INFO]当前期望审批人列表为... 
      --&gt;  100357-合同专员-contractops
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'contractops' 信息如下 -----------------
ID: 100357; Name: 合同专员; Boss_ID: None; Boss_name: None; Area: u'财务合同组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 盖章通过 返点， rebate_balance_id=133128725

【@KEY STEP@】--- 通过API 获取一个返点， id=133128725
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/detail
  Cookies : {'fake_employee_id': '100357', 'login_employee_id': '100357'}
  Parameters : {'rebate_balance_id': 133128725}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.077456 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '获取详情成功', 'code': 1, 'data': {'display_template_area': 1, 'agent_name': 'Auto-独代渠道销售A-41063156272977246171-无限公司', 'area_type_name': '区域', 'use_amount': '0.00', 'use_status_name': '未使用', 'archive_locker_no': '', 'rebate_balance_id': 133128725, 'agent_type_name': '', 'archive_status_name': '未回收', 'leading_area_name': '华南', 'rebate_balance_serial': 'FD133128725', 'use_status': 1, 'stamp_status': 2, 'create_time': '2019-11-15 18:37:24', 'year': 2020, 'remain_amount': '0.00', 'archive_box_no': '', 'archive_num': 0, 'archive_time': '', 'channel_salesman_name': 'direct client sales_A', 'contract_subject_name': '天津今日头条科技有限公司', 'type_name': '三返', 'sales_names': 'direct client sales_A', 'area_type': 11, 'month_quarter_name': '3月', 'contract_subject_id': 2, 'agent_type': 28, 'stamp_status_name': '审批中', 'approval_time': '2019-11-15', 'agent_category_name': '独代', 'type': 3, 'agent_approval_name': None, 'category': 2, 'agent_approval_time': None, 'channel_salesman_id': 100388, 'operate_time': None, 'stamp_type_name': '线下盖章', 'supplement_con_serial': 'CON10000000', 'stamp_stap_id': None, 'archive_status': 1, 'sales_ids': [100388], 'submit_approve_date': '2019-11-15', 'remark': '', 'month_quarter': 3, 'standard': '1', 'process_id': 47923993, 'agent_id': 54975739, 'step_id': None, 'leading_area': 3, 'category_name': '代理商', 'status': 3, 'rebate_id': 0, 'use_types': [1, 2, 3], 'task_id': 47924341, 'status_name': '审批通过', 'agent_category': 1, 'standard_name': '标准', 'amount': '535616.97', 'frozen_amount': '0.00', 'contract_serial': 'TJJR2019110800026', 'standard_serial': '', 'stamp_type': 2, 'use_type_names': ['现金', '返点抵扣', '充值到AD']}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100357', 'login_employee_id': '100357'}
  Method : POST
  Payload : '{"entity_id": "133128725", "process_id": 47923993, "task_id": 47924341}'
-----------------------------------------------
【性能】请求花费时间 1.661019 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】--- 通过API 回收 一条返点结算，id：133128725
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:58313/back_end/rebate/retrieve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"rebate_balance_id": 133128725}'
-----------------------------------------------
【性能】请求花费时间 0.045169 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '回收成功', 'code': 1}
------------------------------------------------------------------------

[DATA PREPARATION] 最后打印当前的返点信息。。。。。
100336-渠道销管B-channelsalesmanage_B
 
---------打印当前返点基本信息：---------------------------------------
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                            Status  :  3 - 已结算  
                       StampStatus  :  3 - 已盖章  
                           Creator  :  100336-渠道销管B-channelsalesmanage_B 
                    ContractSerial  :  TJJR2019110800026 
                          UseTypes  :  7 - 现金,返点抵扣,充值到AD 
                    ArchieveStatus  :  2 - 已回收  
                            Amount  :  53561.0 
                            Serial  :  FD133128725 
                           AgentID  :  54975739 
                                ID  :  133128725 
                             Types  :  3 - 三返  
----------------------------------------------------

 ------------------------------------------------------------
-----数据准备完毕------------------------------------------------




  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 创建一个 返点 开票 对象，contract_id :'6756862916055532301'  。。。
当前开票platform  3-返点开票

【@KEY STEP@】---- 创建一个 开票 对象''  。。。
  用当前传入的contract_id 覆盖 6756862916055532301
---打印当前 创建payload ----
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                          platform  :  0 
                       contract_id  :  6756862916055532301 
                    invoice_object  :  3 
----------------------------------------------------

None
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/create
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"platform": 0, "contract_id": 6756862916055532301, "invoice_object": 3}'
-----------------------------------------------
【性能】请求花费时间 0.188314 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128112}
------------------------------------------------------------------------

【@KEY STEP@】---- 给当前发票id = '133128112' 增加返点 rebate_id=133128725  。。。

【@KEY STEP@】---- 给当前发票id = '133128112' 绑定实体  。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/bind
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128112, "bind_records": "[{\"amount\": 535616.97, \"id\": 133128725}]"}'
-----------------------------------------------
【性能】请求花费时间 0.066196 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128112}
------------------------------------------------------------------------
【MOCK-UP】生成 更新 通用 - 开票 所需要的 payload 信息。。。
              [INFO]随机生成的名称： Auto-名字1573814257
              [INFO]随机生成的名称： Auto-名字1573814257
              [INFO]随机生成的名称： Auto-名字1573814257
              [INFO]随机生成的名称： Auto-名字1573814257
              [INFO]使用随机生成的email ：  auto.mail.6498368@bytedance.com
    [INFO]DB 随机找到的签约主体是  ： 1 - 北京字节跳动科技有限公司 
----------------------------------------------------
【Print】printing mocked data in lines。。。
                          tax_no  :  13405381131 
             contract_subject_id  :  1 
                  customer_email  :  auto.mail.6498368@bytedance.com 
           customer_subject_name  :  开票公司名-Auto-名字15738142576六要素 
              unprintable_remark  :  auto_非打印备注-74744600096789 
                    invoice_type  :  2 
                          remark  :  auto_remark-43408595298220 
                  customer_phone  :  13404196588 
             customer_sms_phones  :  ['13405574047'] 
                  region_last_id  :  3 
                customer_address  :  Auto-名字1573814257地址-6六要素 
                 contact_address  :  Auto-名字1573814257地址-接收信息 
                         contact  :  渠道销售A 
                            bank  :  Auto-名字1573814257银行-6六要素 
                   contact_phone  :  13408979881 
                      region_ids  :  [1, 2, 3] 
                    bank_account  :  64078981800782 
----------------------------------------------------


【@KEY STEP@】---- 保存 更新六要素 实体 id：133128112 。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"tax_no": "13405381131", "contract_subject_id": 1, "customer_email": "auto.mail.6498368@bytedance.com", "customer_subject_name": "\u5f00\u7968\u516c\u53f8\u540d-Auto-\u540d\u5b5715738142576\u516d\u8981\u7d20", "unprintable_remark": "auto_\u975e\u6253\u5370\u5907\u6ce8-74744600096789", "invoice_type": 2, "remark": "auto_remark-43408595298220", "customer_phone": "13404196588", "customer_sms_phones": ["13405574047"], "region_last_id": 3, "customer_address": "Auto-\u540d\u5b571573814257\u5730\u5740-6\u516d\u8981\u7d20", "contact_address": "Auto-\u540d\u5b571573814257\u5730\u5740-\u63a5\u6536\u4fe1\u606f", "contact": "\u6e20\u9053\u9500\u552eA", "bank": "Auto-\u540d\u5b571573814257\u94f6\u884c-6\u516d\u8981\u7d20", "invoice_id": 133128112, "contact_phone": "13408979881", "region_ids": [1, 2, 3], "bank_account": 64078981800782}'
-----------------------------------------------
【性能】请求花费时间 0.083589 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': 133128112}
------------------------------------------------------------------------
[KEY info] 当前为返点开票，必须是 负数，差额！！！！
[KEY info] 当前开票项目金额为： -535616.97
增加一个开票项目，在当前返点开票上。。。
【MOCK-UP】生成 开票 所需要的 项目的信息。。。
 [KEY]生成 所有项目数量为： 1
[INFO]如果当前是差额开票，amount，应该为负数， 需要反转生成
【KEY】当前是差额开票，需要反转project amount 为负数！
[INFO]打印当前项目生成list
[{'invoice_project_amount': -535616.97, 'invoice_project_id': '33'}]

【@KEY STEP@】---- 对开票 id ： '133128112'，增加开票项目信息【通用】  。。。
 增加开票字段。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/invoice_detail/save
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128112, "invoice_details": "[{\"invoice_project_amount\": -535616.97, \"invoice_project_id\": \"33\"}]"}'
-----------------------------------------------
【性能】请求花费时间 0.070235 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '新增成功', 'code': 1, 'data': 26640}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 提交返点实体 id： 。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/submit
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"invoice_id": 133128112}'
-----------------------------------------------
【性能】请求花费时间 4.837233 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------


【审批流】AD账号的票，开票审批 - 审批流： 
[INFO]当前审批流 的期望审批人列表为 
      --&gt;  100316-财务开票专员-finance_invoice_BP
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_invoice_BP' 信息如下 -----------------
ID: 100316; Name: 财务开票专员; Boss_ID: None; Boss_name: None; Area: u'财务BP组'
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】---- 对开票 ：id - '133128112'审批通过  。。。
 [KEY STEP] 先detail 获取process and task id

【@KEY STEP@】---- get 开票 detail ：id '133128112'，  。。。
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/invoice/detail
  Cookies : {'fake_employee_id': '100316', 'login_employee_id': '100316'}
  Parameters : {'invoice_id': 133128112}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.132187 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'code': 1, 'data': {'invoice_detail_status_name': '未开票', 'revert_amount': '0.000000', 'actual_invoice_amount': '0.000000', 'statement_id': 0, 'diff_amount': '-535616.97', 'org_revert_status': None, 'submit_time': '2019-11-15 18:37:42', 'unprintable_remark': 'auto_非打印备注-74744600096789', 'qualification_changed_name': None, 'invoice_object': 3, 'send_status_name': None, 'org_invoice_id': None, 'contact_address': None, 'create_time': '2019-11-15 18:37:36', 'source_name': 'STA', 'customer_subject_name': '开票公司名-Auto-名字15738142576六要素', 'is_revert_name': '否', 'customer_name': '今日头条-品牌广告PM-测试账号-2', 'relate_status_name': None, 'submitter_name': '商务A', 'tax_no': '13405381131', 'contract_id': '6756862916055532301', 'invoice_status_name': None, 'source': 2, 'revert_amount_remain': '0.000000', 'relate_amount': None, 'contract_subject_name': '北京字节跳动科技有限公司', 'status_name': '审批中', 'revert_frozen_amount': '0.000000', 'invoice_amount': '-535616.97', 'platform': 0, 'contract_subject_id': 1, 'bank_account': '64078981800782', 'difference_invoice_name': '全额开票', 'send_status': None, 'customer_id': 44971469, 'contact_phone': None, 'invoiced_time': None, 'process_id': 47925387, 'customer_email': 'auto.mail.6498368@bytedance.com', 'assign_type_name': None, 'assign_type': None, 'task_id': 47926518, 'relate_amount_remain': None, 'invoice_type': 2, 'customer_phone': '13404196588', 'customer_address': 'Auto-名字1573814257地址-6六要素', 'change_status_name': None, 'org_revert_status_name': None, 'qualification_status_name': None, 'change_status': None, 'invoice_object_name': '返点结算开票', 'revert_status_name': '未红冲', 'bank': 'Auto-名字1573814257银行-6六要素', 'invoice_detail_status': 1, 'invoice_serial': 'INV133128112', 'remark': 'auto_remark-43408595298220', 'org_invoice_serial': None, 'invoice_status': None, 'default_invoice_project_name': None, 'creator_name': '商务A', 'difference_invoice': 0, 'submitter_id': 100339, 'invoice_id': 133128112, 'express_number': None, 'express_company': None, 'customer_sms_phones': None, 'abandoned_amount': '0.00', 'platform_name': '广告平台', 'creator_id': 100339, 'contact': '', 'status': 2, 'relate_status': None, 'contract_serial': 'TJJR2019110800026', 'invoice_type_name': '增值税专用发票', 'qualification_status': None, 'revert_status': 1, 'default_invoice_project_id': None, 'invoice_nos': None, 'qualification_changed': None}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.10.57.228:38312/back_end/approval/pass
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100316', 'login_employee_id': '100316'}
  Method : POST
  Payload : '{"comment": " \u968f\u4fbf \u901a\u8fc7\uff0c\u4e0d\u4e3b\u52a8\u4e0d\u62d2\u7edd\u4e0d\u8d1f\u8d23", "process_id": 47925387, "task_id": 47926518}'
-----------------------------------------------
【性能】请求花费时间 3.330519 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '操作成功', 'code': 1}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
----------------------------------------------------
    ---- 打印当前开票信息： 类型 ：返点
----------------------------------------------------
    ---- 开票ID ：133128112
    ---- 开票Serial ：INV133128112
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                        rebate_obj  :  {'contract_id': '6756862916055532301', 'rebate_balance_id': 133128725, 'rebate_amount': 535616.97, 'rebate_balance_serial': 'FD133128725', 'agent_id': 54975739, 'approval_list': ['finance_account_A'], 'payload': {'cur_no_net_no_bid_income': 60.59, 'cur_no_join_no_bid_income': 75.34, 'no_special_industry_bid_income': 48.06, 'reset_cost': 21, 'cur_net_no_bid_income': 100, 'cur_join_income': 1.62, 'year': 2020, 'special_industry_bid_ratio': 0.61, 'cur_no_join_bid_income': 56, 'quarter_year_reward_ratio': 0.67, 'timely_paid_reward_income': 16, 'area_type': 11, 'video_material_no_bid_reward_ratio': 0.66, 'non_bidding_income': 30.29, 'bid_ratio': 0.06, 'video_material_bid_reward_income': 81.09, 'leading_area': 3, 'type': 3, 'submit_approval': True, 'channel_salesman_id': '100388', 'overdue_deduction': 89.92, 'supplement_con_serial': 'CON10000000', 'sales_ids': '100388', 'video_material_no_bid_reward_income': 90.04, 'month_quarter': 3, 'standard': 1, 'agent_id': 54975739, 'submit_approve_date': '2019-11-15', 'cur_no_join_no_bid_ratio': 0.57, 'cur_net_no_bid_ratio': 0.59, 'use_types': '1,2,3', 'video_reward_ratio': 0.37, 'luban_reward_ratio': 0.31, 'amount': 535616.97, 'contract_serial': u'TJJR2019110800026', 'reset_ratio': 0.05, 'video_platform_reward_income': 69, 'current_mission': 1}} 
                      project_list  :  [{'invoice_project_amount': -535616.97, 'invoice_project_id': '33'}] 
                       contract_id  :  6756862916055532301 
                    common_payload  :  {'tax_no': '13405381131', 'contract_subject_id': 1, 'customer_email': 'auto.mail.6498368@bytedance.com', 'customer_subject_name': u'\u5f00\u7968\u516c\u53f8\u540d-Auto-\u540d\u5b5715738142576\u516d\u8981\u7d20', 'unprintable_remark': u'auto_\u975e\u6253\u5370\u5907\u6ce8-74744600096789', 'invoice_type': 2, 'remark': 'auto_remark-43408595298220', 'customer_phone': '13404196588', 'customer_sms_phones': ['13405574047'], 'region_last_id': 3, 'customer_address': u'Auto-\u540d\u5b571573814257\u5730\u5740-6\u516d\u8981\u7d20', 'contact_address': u'Auto-\u540d\u5b571573814257\u5730\u5740-\u63a5\u6536\u4fe1\u606f', 'contact': u'\u6e20\u9053\u9500\u552eA', 'bank': u'Auto-\u540d\u5b571573814257\u94f6\u884c-6\u516d\u8981\u7d20', 'invoice_id': 133128112, 'contact_phone': '13408979881', 'region_ids': [1, 2, 3], 'bank_account': 64078981800782} 
                        invoice_id  :  133128112 
                         rebate_id  :  133128725 
                    invoice_serial  :  INV133128112 
                     rebate_serial  :  FD133128725 
----------------------------------------------------

----------------------------------------------------


[PAYLOAD-Prepare]准备返点支付单创建所需要的数据！！

【INF】没有提供apply_amount，默认输入返点所有amount
打印当前的 返点信息list :
[{'amount': 535616.97, 'id': 133128725}]

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 

【@KEY STEP@】API 创建返点 支付申请单！
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/pay_order/add_rebate
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"pay_category": 1, "biz_type": 0, "biz_line": 0, "rebates": "[{\"amount\": 535616.97, \"id\": 133128725}]"}'
-----------------------------------------------
【性能】请求花费时间 1.642917 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'pay_order_id': 7538}}
------------------------------------------------------------------------

【@KEY STEP@】API 更新当前 支付申请单 银行信息 id = 7538
[INFO] 获取银行相关信息, 关键字 ：招商银行股份有限公司福州分行营业部
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/main_data/bank/keyword
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Parameters : {'key_word': u'招商银行股份有限公司福州分行营业部'}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.986435 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': [{'bank_name': '招商银行股份有限公司福州分行营业部', 'bank_no': '308391026028', 'bank_code': 'MDBK00063026'}]}
------------------------------------------------------------------------
    [INFO]随机生成的 日期： 2020-01-14
----------------------------------------------------
【Print】printing dict detailed data in lines。。。
                         bank_name  :  招商银行股份有限公司福州分行营业部 
                         bank_code  :  MDBK00063026 
                 bank_account_name  :  auto账号-92404919530446 
                   bank_account_no  :  40427236413916 
                      pay_order_id  :  7538 
                   latest_pay_date  :  2020-01-14 
                           bank_no  :  308391026028 
----------------------------------------------------


【@KEY STEP@】API 增加银行信息到当前支付单！支付单ID： 7538
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/pay_order/update_receiver
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"bank_name": "\u62db\u5546\u94f6\u884c\u80a1\u4efd\u6709\u9650\u516c\u53f8\u798f\u5dde\u5206\u884c\u8425\u4e1a\u90e8", "bank_code": "MDBK00063026", "bank_account_name": "auto\u8d26\u53f7-92404919530446", "bank_account_no": "40427236413916", "pay_order_id": 7538, "latest_pay_date": "2020-01-14", "bank_no": "308391026028"}'
-----------------------------------------------
【性能】请求花费时间 0.788174 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '更新成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
              [INFO]使用随机生成的长传数字 ：  5741
[INFO] 为支付申请单添加附件！支付单ID： None
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/attachment/upload
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"file_list": [{"file_name": "761f12b79a5fac36422f9f45510b601b.docx", "origin_file_name": "3M\u7ed3\u7b97\u5355-\u5b57\u8282\u5c0f\u7a0b\u5e8f\u5e7f\u544a_V2.0-\u5355\u7ae0 (1) (1) (1) (1).docx"}], "entity_id": 7538, "entity_type": 1}'
-----------------------------------------------
【性能】请求花费时间 1.430107 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'ids': [1065]}}
------------------------------------------------------------------------

【@KEY STEP@】API 提交审批当前 支付申请单！！支付单ID： 7538
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/submit
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100339', 'login_employee_id': '100339'}
  Method : POST
  Payload : '{"entity_id": "7538", "pay_order_id": "7538", "entity_type": 1}'
-----------------------------------------------
【性能】请求花费时间 3.498032 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '提交成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
auto5741 Auto-独代渠道销售A-41063156272977246171-无限公司


【审批流】返点 支付申请单，amount 金额为 535616.970000 
期望审批流是 ['businessBP_sepcial', 'businessleader', 'finance_account_A']
[INFO]当前 100339-商务A-business_A 的期望审批人列表为 
      --&gt;  100342-商务BP-特别-businessBP_sepcial
            --&gt;  100338-商务leader-businessleader
                  --&gt;  100364-finance-A-finance_account_A
[审批流] 对于支付申请 id ：7538, 逐级审批通过

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'businessBP_sepcial' 信息如下 -----------------
ID: 100342; Name: 商务BP-特别; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'网服三部', u'网服一部', u'网服二部']
  @@@@@@@@@@@@@@@@@@@@@@   
 
100342-商务BP-特别-businessBP_sepcial
[审批流]确保当前登录人 ： 100342-商务BP-特别-businessBP_sepcial， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7538
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Parameters : {'entity_id': 7538, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.909489 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 1, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100342, 1039686, 1102771, 1393610, 1553567, 1738665, 1793273, 2016672, 2200195, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '商务专员', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Tao Shi', 'employee_id': 2200195, 'leader_id': 2221979, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '石涛', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'shitao.tobias@bytedance.com', 'department_id': 100725}, {'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100342, 'leader_id': 100338, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '商务BP-特别', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'businessBP_special@cgtest.com', 'department_id': 111114478}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:37:55', 'task_name': '', 'operator_name': '商务A', 'id': 39001}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7538 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Parameters : {'entity_id': 7538, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 2.258395 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47930993, 'ref_id': 14166, 'task_id': 47932274, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100342', 'login_employee_id': '100342'}
  Method : POST
  Payload : '{"task_id": 47932274, "ref_id": 14166}'
-----------------------------------------------
【性能】请求花费时间 1.166576 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'businessleader' 信息如下 -----------------
ID: 100338; Name: 商务leader; Boss_ID: None; Boss_name: None; Area: u'商务合同管理'
  @@@@@@@@@@@@@@@@@@@@@@   
 
100338-商务leader-businessleader
[审批流]确保当前登录人 ： 100338-商务leader-businessleader， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7538
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100338', 'login_employee_id': '100338'}
  Parameters : {'entity_id': 7538, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 0.882496 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 2, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100338, 1039686, 1102771, 1393610, 1553567, 1738665, 1762296, 1793273, 2016672, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 6796010, 7206065, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8799238, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '商务合同leader', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Bin Y', 'employee_id': 7206065, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '于宾', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'yubin.dd@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Xu Zh', 'employee_id': 8799238, 'leader_id': 6199811, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '朱旭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhuxu.zx@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Wei H', 'employee_id': 6796010, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '胡玮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'huwei.vc@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100338, 'leader_id': 0, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '商务leader', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'businessleader@cgtest.com', 'department_id': 111114478}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': 'Ling Li', 'employee_id': 1762296, 'leader_id': 220, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '李玲', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2017-03-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liling.amy@bytedance.com', 'department_id': 100212}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100342, 'approval_result_name': '审批通过', 'create_time': '2019-11-15 10:37:59', 'task_name': '商务专员', 'operator_name': '商务BP-特别', 'id': 39010}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:37:55', 'task_name': '', 'operator_name': '商务A', 'id': 39001}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7538 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100338', 'login_employee_id': '100338'}
  Parameters : {'entity_id': 7538, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 3.951725 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47930993, 'ref_id': 14166, 'task_id': 47933905, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100338', 'login_employee_id': '100338'}
  Method : POST
  Payload : '{"task_id": 47933905, "ref_id": 14166}'
-----------------------------------------------
【性能】请求花费时间 6.12585 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------
[INFO] 当前用户没有boss 属性
[INFO] 当前用户没有boss 属性

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'finance_account_A' 信息如下 -----------------
ID: 100364; Name: finance-A; Boss_ID: None; Boss_name: None; Area: u'核算组'
  @@@@@@@@@@@@@@@@@@@@@@   
 
100364-finance-A-finance_account_A
[审批流]确保当前登录人 ： 100364-finance-A-finance_account_A， 在下一个下一个待审批人列表里面
[INFO] API 获取我的审批列表，获取下一个带审批列表，支付单ID ：7538
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approval_record
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 7538, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 1.185704 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'total': 3, 'list': [{'remark': None, 'operator_id': [1299, 1735, 2874, 100364, 100365, 100366, 1039686, 1102771, 1393610, 1553567, 1738665, 1793273, 2016672, 2720176, 3155673, 3289606, 3512817, 3815870, 3865681, 5153893, 5257381, 5738616, 5766109, 5768133, 5810502, 6186262, 6365658, 7256879, 7287928, 7918068, 8135868, 8325936, 8793781, 8825115, 8906005, 8975595, 9253533, 9578862, 9878229], 'approval_result_name': '待审批', 'create_time': None, 'task_name': '财务核算初审', 'operator_name': [{'province': '', 'city': '北京', 'en_name': 'Xiaobing Zheng', 'employee_id': 3289606, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '郑小冰', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhengxiaobing@bytedance.com', 'department_id': 111114209}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100364, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': 'finance-A', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_A@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100365, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '财务核算-B', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_B@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': '', 'employee_id': 100366, 'leader_id': 100363, 'leave_date': '', 'sequence': '', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '财务核算-C', 'work_country': '', 'standard_position_id': 300, 'join_date': '', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'finance_account_C@cgtest.com', 'department_id': 111114484}, {'province': '', 'city': '北京', 'en_name': 'Changjun Li', 'employee_id': 1299, 'leader_id': 2596571, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李长军', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2015-08-24', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lichangjun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Wei Wang', 'employee_id': 8906005, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王伟', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-12-26', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangwei.silence@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Ran Ding', 'employee_id': 6186262, 'leader_id': 1735, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '丁冉', 'work_country': '中国', 'standard_position_id': 316, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dingran.77@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yanni Xiao', 'employee_id': 5738616, 'leader_id': 3299115, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '肖艳妮', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-06-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'xiaoyanni.jenny@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Weiyue Ren', 'employee_id': 8825115, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '任玮玥', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-01-07', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'renweiyue@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Yilu Tian', 'employee_id': 9253533, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '田依鹭', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-06-10', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tianyilu@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Shuode Li', 'employee_id': 1553567, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李硕德', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-12-12', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lishuode@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '北京', 'en_name': 'Zilin He', 'employee_id': 2016672, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '贺子霖', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-11-11', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hezilin@bytedance.com', 'department_id': 111114205}, {'province': '', 'city': '北京', 'en_name': 'Yan Lan', 'employee_id': 2720176, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '兰雁', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2019-07-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'lanyan.wind@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Fengyue Zho', 'employee_id': 1039686, 'leader_id': 1909768, 'leave_date': '', 'sequence': '运营', 'department_name_in_ee': None, 'sub_sequence': '产品运营', 'name': '周丰月', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-02-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhoufengyue@bytedance.com', 'department_id': 111114200}, {'province': '', 'city': '北京', 'en_name': 'Vincent Li', 'employee_id': 5257381, 'leader_id': 5738616, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李启豪', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-05-30', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liqihao@bytedance.com', 'department_id': 111113609}, {'province': '', 'city': '北京', 'en_name': 'Nathan Wang', 'employee_id': 1738665, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '王楠', 'work_country': '中国', 'standard_position_id': 435, 'join_date': '2019-04-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangnan.nathan@bytedance.com', 'department_id': 111114294}, {'province': '', 'city': '北京', 'en_name': 'Kaixuan Li', 'employee_id': 7256879, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '李凯旋', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'likaixuan@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Junyan Guo', 'employee_id': 8325936, 'leader_id': 9091789, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭俊彦', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2018-04-25', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojunyan@bytedance.com', 'department_id': 111114197}, {'province': '', 'city': '北京', 'en_name': 'Yanming Qi', 'employee_id': 1102771, 'leader_id': 1935, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '仇衍铭', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-07-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'qiuyanming@bytedance.com', 'department_id': 111114202}, {'province': '', 'city': '北京', 'en_name': 'Xuejun Dong', 'employee_id': 8793781, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '董学军', 'work_country': '中国', 'standard_position_id': 143, 'join_date': '2017-03-13', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongxuejun@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Jin W', 'employee_id': 2874, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '吴进', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2016-06-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wujin@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Shuang Zhang', 'employee_id': 8135868, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张爽', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-05-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangshuang.01@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Zhi Chen', 'employee_id': 3815870, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '陈智', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-09-03', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'chenzhi.01@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Bo Feng', 'employee_id': 5768133, 'leader_id': 8188337, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '冯波', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-06-27', 'department_id_in_ee': None, 'active': 1, 'user_id': 1472951079680275, 'employee_type': 0, 'email': 'fengbo.1118@bytedance.com', 'department_id': 111114204}, {'province': '', 'city': '东京', 'en_name': 'Tatsuka Go', 'employee_id': 5810502, 'leader_id': 1318699, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '呉達樺', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-02-01', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'tatsuka.go@bytedance.com', 'department_id': 111113610}, {'province': '', 'city': '北京', 'en_name': 'Pin Dong', 'employee_id': 1735, 'leader_id': 1762296, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '广告执行', 'name': '董品', 'work_country': '中国', 'standard_position_id': 203, 'join_date': '2015-12-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'dongpin@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Yifan Zhang', 'employee_id': 1393610, 'leader_id': 2923026, 'leave_date': '', 'sequence': '技术', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张一凡', 'work_country': '中国', 'standard_position_id': 314, 'join_date': '2018-04-02', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyifan.0@bytedance.com', 'department_id': 111114198}, {'province': '', 'city': '北京', 'en_name': 'Hao Zhang', 'employee_id': 3865681, 'leader_id': 5199810, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张皓', 'work_country': '中国', 'standard_position_id': 294, 'join_date': '2018-06-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhanghao.0307@bytedance.com', 'department_id': 111114281}, {'province': '', 'city': '北京', 'en_name': 'Yuting Gao', 'employee_id': 9878229, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '高玉婷', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'gaoyuting.lucy@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Jinghan Zhao', 'employee_id': 3155673, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '赵婧含', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2018-07-09', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhaojinghan@bytedance.com', 'department_id': 111114254}, {'province': '', 'city': '北京', 'en_name': 'Hongyi Fang', 'employee_id': 6365658, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方虹怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-11-05', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fanghongyi@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '东京', 'en_name': 'Hua Zhang', 'employee_id': 5766109, 'leader_id': 5257381, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '张桦', 'work_country': '日本', 'standard_position_id': 0, 'join_date': '2019-01-28', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'hua.zhang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Huifang An', 'employee_id': 5153893, 'leader_id': 7780057, 'leave_date': '', 'sequence': '财务', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '安慧芳', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-08-29', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'anhuifang@bytedance.com', 'department_id': 111115463}, {'province': '', 'city': '北京', 'en_name': 'Yizhou Zhang', 'employee_id': 8975595, 'leader_id': 8232578, 'leave_date': '', 'sequence': '运营（商业化）', 'department_name_in_ee': None, 'sub_sequence': '综合', 'name': '张一舟', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2018-07-23', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'zhangyizhou.93@bytedance.com', 'department_id': 111114560}, {'province': '', 'city': '北京', 'en_name': 'Na Sun', 'employee_id': 9578862, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '孙娜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2017-12-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'sunna@bytedance.com', 'department_id': 100692}, {'province': '', 'city': '北京', 'en_name': 'Jingyi Guo', 'employee_id': 3512817, 'leader_id': 2321, 'leave_date': '', 'sequence': '市场', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '郭静宜', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-05-06', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'guojingyi@bytedance.com', 'department_id': 111114206}, {'province': '', 'city': '北京', 'en_name': 'Tiffany Fang', 'employee_id': 7918068, 'leader_id': 8232578, 'leave_date': '', 'sequence': '经营', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '方天怡', 'work_country': '中国', 'standard_position_id': 0, 'join_date': '2019-07-15', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'fangtianyi@bytedance.com', 'department_id': 111114284}, {'province': '', 'city': '北京', 'en_name': 'Xiaoyue Wang', 'employee_id': 7287928, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '王小月', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-04-08', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'wangxiaoyue.12@bytedance.com', 'department_id': 111114201}, {'province': '', 'city': '北京', 'en_name': 'Shida Li', 'employee_id': 1793273, 'leader_id': 7922808, 'leave_date': '', 'sequence': '产品', 'department_name_in_ee': None, 'sub_sequence': '', 'name': '刘世达', 'work_country': '中国', 'standard_position_id': 414, 'join_date': '2019-03-04', 'department_id_in_ee': None, 'active': 1, 'user_id': 0, 'employee_type': 0, 'email': 'liushida@bytedance.com', 'department_id': 101580}], 'id': None}, {'remark': '', 'operator_id': 100338, 'approval_result_name': '审批通过', 'create_time': '2019-11-15 10:38:10', 'task_name': '商务合同leader', 'operator_name': '商务leader', 'id': 39018}, {'remark': '', 'operator_id': 100342, 'approval_result_name': '审批通过', 'create_time': '2019-11-15 10:37:59', 'task_name': '商务专员', 'operator_name': '商务BP-特别', 'id': 39010}, {'remark': '', 'operator_id': 100339, 'approval_result_name': '提交', 'create_time': '2019-11-15 10:37:55', 'task_name': '', 'operator_name': '商务A', 'id': 39001}]}}
------------------------------------------------------------------------

【@KEY STEP@】----审批通过当前【支付申请】, pay_order_id ： 7538 ,申请类型为 支付申请单
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/detail
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Parameters : {'entity_id': 7538, 'entity_type': 1}
  Method : GET
-----------------------------------------------
【性能】请求花费时间 2.240539 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': 'success', 'code': 1, 'data': {'process_id': 47930993, 'ref_id': 14166, 'task_id': 47936324, 'can_reject': True, 'can_approve': True}}
------------------------------------------------------------------------
-----[REQUEST] details below : ----------------------------
  Request : http://10.6.26.234:18371/back_end/work_flow/approve
  Headers : {'content_type': 'application/json'}
  Cookies : {'fake_employee_id': '100364', 'login_employee_id': '100364'}
  Method : POST
  Payload : '{"task_id": 47936324, "ref_id": 14166}'
-----------------------------------------------
【性能】请求花费时间 2.318811 s 
-----------------------------------------------
 -----[RESPONSE] details below : ----------------------------
  Returned code: 200
  Response: 
{'msg': '审批成功', 'code': 1, 'data': None}
------------------------------------------------------------------------

  @@   切换登录人    @@   
+++[INFO]+++  当前登录人 label: 'business_A' 信息如下 -----------------
ID: 100339; Name: 商务A; Boss_ID: 100338; Boss_name: 商务leader; Area: [u'渠道一部', u'渠道三部', u'网服三部', u'网服一部', u'品牌二部', u'本地直营中心-LA']
  @@@@@@@@@@@@@@@@@@@@@@   
 
[Verify - Begin] 【支付申请单】整单状态校验开始
[Verify - Done] 【支付申请单】整单状态校验结束
[Verify - Begin] 支付申请单金额 1.金额
[Verify - Done] 支付申请单金额 Done


        </pre>
    </div>
    <!--css div popup end-->

    </td>
</tr>

<tr id='total_row'>
    <td>Total</td>
    <td>4</td>
    <td>4</td>
    <td>0</td>
    <td>0</td>
    <td>&nbsp;</td>
</tr>
</table>

<div id='ending'>&nbsp;</div>

</body>
</html>
